var u=(m,t,e)=>new Promise((n,l)=>{var i=s=>{try{a(e.next(s))}catch(o){l(o)}},c=s=>{try{a(e.throw(s))}catch(o){l(o)}},a=s=>s.done?n(s.value):Promise.resolve(s.value).then(i,c);a((e=e.apply(m,t)).next())});import{u as P,F as v}from"./useForm-agan0gLz.js";import{u as b}from"./useValidator-b4d-vg8t.js";import{u as k,q as y,p as x}from"./index-E_cr-WWq.js";import{b as f}from"./element-plus-LfFKO5To.js";import{l as F,J as V,a as D,m as R,W as q,u as w,O as p,V as B,P as C}from"./vue-chunks-NBL-ZipP.js";const A=F({__name:"PasswordWrite",setup(m){const{required:t}=b(),e=k(),n=V([{field:"title",colProps:{span:24}},{field:"password",label:"新密码",component:"InputPassword",colProps:{span:24},componentProps:{style:{width:"50%"},placeholder:"请输入新密码"}},{field:"password_two",label:"确认密码",component:"InputPassword",colProps:{span:24},componentProps:{style:{width:"50%"},placeholder:"请再次输入新密码"}},{field:"save",colProps:{span:24},formItemProps:{slots:{default:()=>p(C,null,[p("div",{class:"w-[50%]"},[p(y,{loading:d.value,type:"primary",class:"w-[100%]",onClick:g},{default:()=>[B("保存")]})])])}}}]),l={password:[t(),{min:8,max:16,message:"长度需为8-16个字符,请重新输入。",trigger:"blur"}],password_two:[t(),{min:8,max:16,message:"长度需为8-16个字符,请重新输入。",trigger:"blur"}]},{formRegister:i,formMethods:c}=P(),{setValues:a,getFormData:s,getElFormExpose:o}=c;a(e.getUser);const d=D(!1),g=()=>u(this,null,function*(){if(e.getUser.id===1)return f.warning("编辑账号为演示账号，无权限操作！");const r=yield o();if(yield r==null?void 0:r.validate()){d.value=!0;const h=yield s();try{(yield x(h))&&(r==null||r.resetFields(),f.success("保存成功"))}finally{d.value=!1}}});return(r,_)=>(R(),q(w(v),{onRegister:w(i),schema:n,rules:l,"hide-required-asterisk":"",class:"dark:border-1 dark:border-[var(--el-border-color)] dark:border-solid"},null,8,["onRegister","schema"]))}});export{A as _};
//# sourceMappingURL=PasswordWrite.vue_vue_type_script_setup_true_lang-_t1tPtDR.js.map
