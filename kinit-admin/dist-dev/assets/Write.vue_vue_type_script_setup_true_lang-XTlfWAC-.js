var m=(r,i,o)=>new Promise((s,p)=>{var c=t=>{try{l(o.next(t))}catch(n){p(n)}},u=t=>{try{l(o.throw(t))}catch(n){p(n)}},l=t=>t.done?s(t.value):Promise.resolve(t.value).then(c,u);l((o=o.apply(r,i)).next())});import{I as v,u as P,F as _}from"./useForm-agan0gLz.js";import{u as I}from"./useValidator-b4d-vg8t.js";import{i as x,q as g}from"./index-E_cr-WWq.js";import{b as R}from"./menu-JmWWhmPT.js";import{l as V,J as f,O as a,V as k,P as F,b as C,m as G,W as T,u as b}from"./vue-chunks-NBL-ZipP.js";const W=V({__name:"Write",props:{currentRow:{type:Object,default:()=>null},parentId:x.number.def(void 0)},setup(r,{expose:i}){const{required:o}=I(),s=r,p=()=>{window.open("https://iconify.design/")},c=f([{field:"parent_id",label:"上级菜单",colProps:{span:24},component:"TreeSelect",componentProps:{style:{width:"100%"},checkStrictly:!0,placeholder:"请选择上级菜单",nodeKey:"value",defaultExpandAll:!0},optionApi:()=>m(this,null,function*(){return(yield R()).data}),value:s.parentId},{field:"menu_type",label:"菜单类型",colProps:{span:24},component:"RadioGroup",componentProps:{style:{width:"100%"},options:[{label:"目录",value:"0"},{label:"菜单",value:"1"},{label:"按钮",value:"2"}]},value:"0"},{field:"icon",label:"菜单图标",colProps:{span:24},component:"Input",formItemProps:{slots:{default:e=>a(F,null,[a("div",{style:"display: flex; justify-content: space-between"},[a(v,{style:"width: 470px","input-disabled":!1,modelValue:e.icon,"onUpdate:modelValue":d=>e.icon=d},null),a("div",{style:"margin-left: 10px"},[a(g,{type:"primary",onClick:p},{default:()=>[k("Iconify")]})])])])}},ifshow:e=>e.menu_type!=="2"},{field:"title",label:"菜单名称",component:"Input",colProps:{span:12}},{field:"order",label:"显示排序",component:"InputNumber",colProps:{span:12},componentProps:{style:{width:"100%"}}},{field:"path",label:"路由地址",component:"Input",colProps:{span:12},ifshow:e=>e.menu_type!=="2"},{field:"component",label:"组件路径",component:"Input",colProps:{span:12},ifshow:e=>e.menu_type!=="2"},{field:"redirect",label:"重定向",component:"Input",colProps:{span:12},ifshow:e=>e.menu_type!=="2"},{field:"hidden",label:"显示状态",colProps:{span:12},component:"RadioGroup",componentProps:{style:{width:"100%"},options:[{label:"显示",value:!1},{label:"隐藏",value:!0}]},value:!1,ifshow:e=>e.menu_type!=="2"},{field:"disabled",label:"菜单状态",colProps:{span:12},component:"RadioGroup",componentProps:{style:{width:"100%"},options:[{label:"正常",value:!1},{label:"停用",value:!0}]},value:!1,ifshow:e=>e.menu_type!=="2"},{field:"perms",label:"权限标识",component:"Input",colProps:{span:12},ifshow:e=>e.menu_type==="2"},{field:"noCache",label:"页面缓存",colProps:{span:12},component:"RadioGroup",componentProps:{style:{width:"100%"},options:[{label:"缓存",value:!1},{label:"不缓存",value:!0}]},value:!1,ifshow:e=>e.menu_type==="1",labelMessage:"开启页面缓存,需要组件名称必须与xx.vue页面的name一致"}]),u=f({title:[o()],menu_type:[o()],disabled:[o()],hidden:[o()],path:[o()],noCache:[o()],order:[o()]}),{formRegister:l,formMethods:t}=P(),{setValues:n,getFormData:y,getElFormExpose:h}=t,w=()=>m(this,null,function*(){const e=yield h();if(yield e==null?void 0:e.validate())return yield y()});return C(()=>s.currentRow,e=>{e&&n(e)},{deep:!0,immediate:!0}),i({submit:w}),(e,d)=>(G(),T(b(_),{rules:u,onRegister:b(l),schema:c,labelWidth:100},null,8,["rules","onRegister","schema"]))}});export{W as _};
//# sourceMappingURL=Write.vue_vue_type_script_setup_true_lang-XTlfWAC-.js.map
