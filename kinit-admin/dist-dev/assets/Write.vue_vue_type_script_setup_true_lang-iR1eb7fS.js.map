{"version":3,"file":"Write.vue_vue_type_script_setup_true_lang-iR1eb7fS.js","sources":["../../src/views/Vadmin/System/Dict/Detail/components/Write.vue"],"sourcesContent":["<script setup lang=\"tsx\">\nimport { Form, FormSchema } from '@/components/Form'\nimport { useForm } from '@/hooks/web/useForm'\nimport { PropType, reactive, watch } from 'vue'\nimport { useValidator } from '@/hooks/web/useValidator'\nimport { getDictTypeOptionsApi } from '@/api/vadmin/system/dict'\nimport { propTypes } from '@/utils/propTypes'\n\nconst { required } = useValidator()\n\nconst props = defineProps({\n  currentRow: {\n    type: Object as PropType<any>,\n    default: () => null\n  },\n  dictTypeId: propTypes.number.def(undefined)\n})\n\nconst formSchema = reactive<FormSchema[]>([\n  {\n    field: 'dict_type_id',\n    label: '字典类型',\n    colProps: {\n      span: 24\n    },\n    component: 'Select',\n    componentProps: {\n      clearable: false,\n      style: {\n        width: '100%'\n      }\n    },\n    optionApi: async () => {\n      const res = await getDictTypeOptionsApi()\n      return res.data\n    },\n    formItemProps: {\n      rules: [required()]\n    },\n    value: props.dictTypeId\n  },\n  {\n    field: 'label',\n    label: '字典标签',\n    colProps: {\n      span: 24\n    },\n    component: 'Input',\n    formItemProps: {\n      rules: [required()]\n    }\n  },\n  {\n    field: 'value',\n    label: '字典键值',\n    colProps: {\n      span: 24\n    },\n    component: 'Input',\n    formItemProps: {\n      rules: [required()]\n    }\n  },\n  {\n    field: 'order',\n    label: '排序',\n    colProps: {\n      span: 24\n    },\n    component: 'InputNumber',\n    componentProps: {\n      style: {\n        width: '50%'\n      }\n    },\n    formItemProps: {\n      rules: [required()]\n    }\n  },\n  {\n    field: 'is_default',\n    label: '是否默认',\n    colProps: {\n      span: 24\n    },\n    component: 'RadioGroup',\n    componentProps: {\n      style: {\n        width: '100%'\n      },\n      options: [\n        {\n          label: '是',\n          value: true\n        },\n        {\n          label: '否',\n          value: false\n        }\n      ]\n    },\n    value: false,\n    formItemProps: {\n      rules: [required()]\n    }\n  },\n  {\n    field: 'disabled',\n    label: '是否禁用',\n    colProps: {\n      span: 24\n    },\n    component: 'RadioGroup',\n    componentProps: {\n      style: {\n        width: '100%'\n      },\n      options: [\n        {\n          label: '启用',\n          value: false\n        },\n        {\n          label: '禁用',\n          value: true\n        }\n      ]\n    },\n    value: false,\n    formItemProps: {\n      rules: [required()]\n    }\n  },\n  {\n    field: 'remark',\n    label: '备注',\n    colProps: {\n      span: 24\n    },\n    component: 'Input'\n  }\n])\n\nconst { formRegister, formMethods } = useForm()\nconst { setValues, getFormData, getElFormExpose } = formMethods\n\nconst submit = async () => {\n  const elForm = await getElFormExpose()\n  const valid = await elForm?.validate()\n  if (valid) {\n    const formData = await getFormData()\n    return formData\n  }\n}\n\nwatch(\n  () => props.currentRow,\n  (currentRow) => {\n    if (!currentRow) return\n    setValues(currentRow)\n  },\n  {\n    deep: true,\n    immediate: true\n  }\n)\n\ndefineExpose({\n  submit\n})\n</script>\n\n<template>\n  <Form @register=\"formRegister\" :schema=\"formSchema\" />\n</template>\n"],"names":["required","useValidator","props","__props","formSchema","reactive","field","label","colProps","span","component","componentProps","clearable","style","width","optionApi","__async","getDictTypeOptionsApi","data","formItemProps","rules","value","dictTypeId","options","formRegister","formMethods","useForm","setValues","getFormData","getElFormExpose","submit","elForm","validate","watch","currentRow","deep","immediate","__expose"],"mappings":"ukBAQA,KAAM,CAAEA,SAAAA,CAAU,EAAGC,EAAY,EAE3BC,EAAQC,EAQRC,EAAaC,EAAuB,CACxC,CACEC,MAAO,eACPC,MAAO,OACPC,SAAU,CACRC,KAAM,EACP,EACDC,UAAW,SACXC,eAAgB,CACdC,UAAW,GACXC,MAAO,CACLC,MAAO,MACT,CACD,EACDC,UAAW,IAAYC,EAAA,sBAErB,OADY,MAAMC,KACPC,IACZ,GACDC,cAAe,CACbC,MAAO,CAACpB,GAAU,CACnB,EACDqB,MAAOnB,EAAMoB,UACf,EACA,CACEhB,MAAO,QACPC,MAAO,OACPC,SAAU,CACRC,KAAM,EACP,EACDC,UAAW,QACXS,cAAe,CACbC,MAAO,CAACpB,GAAU,CACpB,CACF,EACA,CACEM,MAAO,QACPC,MAAO,OACPC,SAAU,CACRC,KAAM,EACP,EACDC,UAAW,QACXS,cAAe,CACbC,MAAO,CAACpB,GAAU,CACpB,CACF,EACA,CACEM,MAAO,QACPC,MAAO,KACPC,SAAU,CACRC,KAAM,EACP,EACDC,UAAW,cACXC,eAAgB,CACdE,MAAO,CACLC,MAAO,KACT,CACD,EACDK,cAAe,CACbC,MAAO,CAACpB,GAAU,CACpB,CACF,EACA,CACEM,MAAO,aACPC,MAAO,OACPC,SAAU,CACRC,KAAM,EACP,EACDC,UAAW,aACXC,eAAgB,CACdE,MAAO,CACLC,MAAO,MACR,EACDS,QAAS,CACP,CACEhB,MAAO,IACPc,MAAO,EACT,EACA,CACEd,MAAO,IACPc,MAAO,GACR,CAEJ,EACDA,MAAO,GACPF,cAAe,CACbC,MAAO,CAACpB,GAAU,CACpB,CACF,EACA,CACEM,MAAO,WACPC,MAAO,OACPC,SAAU,CACRC,KAAM,EACP,EACDC,UAAW,aACXC,eAAgB,CACdE,MAAO,CACLC,MAAO,MACR,EACDS,QAAS,CACP,CACEhB,MAAO,KACPc,MAAO,EACT,EACA,CACEd,MAAO,KACPc,MAAO,GACR,CAEJ,EACDA,MAAO,GACPF,cAAe,CACbC,MAAO,CAACpB,GAAU,CACpB,CACF,EACA,CACEM,MAAO,SACPC,MAAO,KACPC,SAAU,CACRC,KAAM,EACP,EACDC,UAAW,OACZ,CAAA,CACF,EAEK,CAAEc,aAAAA,EAAcC,YAAAA,CAAa,EAAGC,EAAO,EACvC,CAAEC,UAAAA,EAAWC,YAAAA,EAAaC,gBAAAA,CAAiB,EAAGJ,EAE9CK,EAAS,IAAYd,EAAA,sBACzB,MAAMe,EAAS,MAAMF,IAErB,GADc,MAAME,GAAAA,YAAAA,EAAQC,WAG1B,OADiB,MAAMJ,MAK3BK,OAAAA,EACE,IAAM/B,EAAMgC,WACXA,GAAe,CACTA,GACLP,EAAUO,CAAU,CACtB,EACA,CACEC,KAAM,GACNC,UAAW,EACb,CACF,EAEAC,EAAa,CACXP,OAAAA,CACF,CAAC"}