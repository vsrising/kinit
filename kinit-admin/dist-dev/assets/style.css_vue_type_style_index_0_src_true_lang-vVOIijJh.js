var f=(r,h,i)=>new Promise((b,c)=>{var n=a=>{try{s(i.next(a))}catch(u){c(u)}},p=a=>{try{s(i.throw(a))}catch(u){c(u)}},s=a=>a.done?b(a.value):Promise.resolve(a.value).then(n,p);s((i=i.apply(r,h)).next())});import{z as E,T as k,E as z}from"./wang-editor-izIlk5n1.js";import{r as O,i as v,O as x,P as B}from"./index-E_cr-WWq.js";import{b as t}from"./element-plus-LfFKO5To.js";import{l as N,e as y,u as l,s as F,a as U,b as C,z as $,m as D,p as M,O as I,T as P,n as R}from"./vue-chunks-NBL-ZipP.js";const _=r=>O.post({url:"/vadmin/system/upload/image/to/oss",headersType:"multipart/form-data",data:r}),j=r=>O.post({url:"/vadmin/system/upload/video/to/oss",headersType:"multipart/form-data",data:r}),A={class:"border-1 border-solid border-[var(--el-border-color)] z-10"},Q=N({__name:"Editor",props:{editorId:v.string.def("wangeEditor-1"),height:v.oneOfType([Number,String]).def("500px"),editorConfig:{type:Object,default:()=>{}},modelValue:v.string.def("")},emits:["change","update:modelValue"],setup(r,{expose:h,emit:i}){const b=x(),c=y(()=>b.getCurrentLocale);E(l(c).lang);const n=r,p=i,s=F(),a=U("");C(()=>n.modelValue,o=>{o!==l(a)&&(a.value=o)},{immediate:!0}),C(()=>a.value,o=>{p("update:modelValue",o)});const u=o=>{s.value=o},S=y(()=>Object.assign({readOnly:!1,customAlert:(e,m)=>{switch(m){case"success":t.success(e);break;case"info":t.info(e);break;case"warning":t.warning(e);break;case"error":t.error(e);break;default:t.info(e);break}},autoFocus:!1,scroll:!0,uploadImgShowBase64:!0,MENU_CONF:{uploadImage:{customUpload(e,m){return f(this,null,function*(){if(!["image/jpeg","image/gif","image/png"].includes(e.type))return t.error(`${e.name}上传失败：上传图片只能是 JPG/GIF/PNG/ 格式!`);if(!(e.size/1024/1024<2))return t.error(`${e.name}上传失败：上传图片大小不能超过 2MB!`);const d=new FormData;d.append("file",e),d.append("path","editor/image");const g=yield _(d);m(g.data,"",g.data)})}},uploadVideo:{customUpload(e,m){return f(this,null,function*(){if(!["video/mp4","video/mpeg"].includes(e.type))return t.error(`${e.name}上传失败：上传视频只能是 mp4/mpeg/ 格式!`);if(!(e.size/1024/1024<5))return t.error(`${e.name}上传失败：上传视频大小不能超过 5MB!`);const d=new FormData;d.append("file",e),d.append("path","editor/video");const g=yield j(d);m(g.data,"")})}}}},n.editorConfig||{})),T=y(()=>({height:B(n.height)?`${n.height}px`:n.height})),V=o=>{p("change",o)};return $(()=>{const o=l(s.value);o==null||o.destroy()}),h({getEditorRef:()=>f(this,null,function*(){return yield R(),l(s.value)})}),(o,w)=>(D(),M("div",A,[I(l(k),{editor:s.value,editorId:r.editorId,class:"border-0 b-b-1 border-solid border-[var(--el-border-color)]"},null,8,["editor","editorId"]),I(l(z),{modelValue:a.value,"onUpdate:modelValue":w[0]||(w[0]=e=>a.value=e),editorId:r.editorId,defaultConfig:S.value,style:P(T.value),onOnChange:V,onOnCreated:u},null,8,["modelValue","editorId","defaultConfig","style"])]))}});export{Q as _};
//# sourceMappingURL=style.css_vue_type_style_index_0_src_true_lang-vVOIijJh.js.map
