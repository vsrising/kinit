var v=(e,l,r)=>new Promise((y,x)=>{var $=d=>{try{f(r.next(d))}catch(m){x(m)}},i=d=>{try{f(r.throw(d))}catch(m){x(m)}},f=d=>d.done?y(d.value):Promise.resolve(d.value).then($,i);f((r=r.apply(e,l)).next())});import{a as V}from"./avatar-HyeFBYfF.js";import{f as R,h as z,i as W,r as N,u as U,j as F,k as H,l as J,d as K,m as Q}from"./index-E_cr-WWq.js";import{e as I,u as t,l as q,ag as B,a as X,J as E,ah as Y,m as _,p as k,q as s,O as n,R as a,U as o,V as j,P as S,a7 as T,W as L}from"./vue-chunks-NBL-ZipP.js";import{p as A,m as D,g as h,h as w,q as O,r as Z}from"./element-plus-LfFKO5To.js";const ee={"zh-CN":{justNow:"刚刚",invalid:"无效时间",past:e=>e.match(/\d/)?`${e}前`:e,future:e=>e.match(/\d/)?`${e}后`:e,month:(e,l)=>e===1?l?"上个月":"下个月":`${e} 个月`,year:(e,l)=>e===1?l?"去年":"明年":`${e} 年`,day:(e,l)=>e===1?l?"昨天":"明天":`${e} 天`,week:(e,l)=>e===1?l?"上周":"下周":`${e} 周`,hour:e=>`${e} 小时`,minute:e=>`${e} 分钟`,second:e=>`${e} 秒`},en:{justNow:"刚刚",invalid:"Invalid Date",past:e=>e.match(/\d/)?`${e} ago`:e,future:e=>e.match(/\d/)?`in ${e}`:e,month:(e,l)=>e===1?l?"last month":"next month":`${e} month${e>1?"s":""}`,year:(e,l)=>e===1?l?"last year":"next year":`${e} year${e>1?"s":""}`,day:(e,l)=>e===1?l?"yesterday":"tomorrow":`${e} day${e>1?"s":""}`,week:(e,l)=>e===1?l?"last week":"next week":`${e} week${e>1?"s":""}`,hour:e=>`${e} hour${e>1?"s":""}`,minute:e=>`${e} minute${e>1?"s":""}`,second:e=>`${e} second${e>1?"s":""}`}},te=e=>{const l=R(),r=I(()=>l.getCurrentLocale);return z(e,{messages:ee[t(r).lang]})},ae=q({name:"Highlight",props:{tag:W.string.def("span"),keys:{type:Array,default:()=>[]},color:W.string.def("var(--el-color-primary)")},emits:["click"],setup(e,{emit:l,slots:r}){const y=I(()=>e.keys.map(i=>B("span",{onClick:()=>{l("click",i)},style:{color:e.color,cursor:"pointer"}},i))),x=i=>(e.keys.forEach((f,d)=>{const m=new RegExp(f,"g");i=i.replace(m,`{{${d}}}`)}),i.split(/{{|}}/)),$=()=>{if(!(r!=null&&r.default))return null;const i=r==null?void 0:r.default()[0].children;if(!i)return r==null?void 0:r.default()[0];const f=x(i),d=/^[0-9]*$/,m=f.map(g=>d.test(g)&&t(y)[g]||g);return B(e.tag,m)};return()=>$()}}),se=()=>N.get({url:"/vadmin/workplace/project"}),ne=()=>N.get({url:"/vadmin/workplace/dynamic"}),le=()=>N.get({url:"/vadmin/workplace/team"}),re=()=>N.get({url:"/vadmin/workplace/shortcuts"}),oe={class:"bg-[var(--app-content-bg-color)] flex-grow"},ce={class:"flex items-center"},ie=["src"],de={class:"text-20px"},ue={class:"mt-10px text-14px text-gray-500"},pe={class:"flex h-70px items-center justify-end <sm:mt-20px"},me={class:"px-8px text-right"},_e=s("div",{class:"text-14px text-gray-400 mb-20px"},"最近登录时间",-1),xe={class:"text-20px"},fe={class:"mx-20px mt-20px"},ge={class:"flex justify-between"},he=["onClick"],ye={class:"flex items-center"},ve={class:"text-16px"},ke={class:"mt-15px text-14px text-gray-400"},we={class:"mt-20px text-12px text-gray-400 flex justify-between"},$e={class:"flex justify-between"},be={class:"flex items-center"},je=s("img",{src:V,alt:"",class:"w-35px h-35px rounded-[50%] mr-20px"},null,-1),Ae={class:"text-14px"},Ce={class:"mt-15px text-12px text-gray-400"},Ee={class:"flex items-center"},Me=q({name:"DashboardWorkplace",__name:"Workplace",setup(e){const l=U(),r=X(!0),y=u=>{window.open(u)};let x=E([]);const $=()=>v(this,null,function*(){const u=yield se().catch(()=>{});u&&(x=Object.assign(x,u.data))});let i=E([]);v(this,null,function*(){const u=yield re().catch(()=>{});u&&(i=Object.assign(i,u.data))});let d=E([]);const m=()=>v(this,null,function*(){const u=yield ne().catch(()=>{});u&&(d=Object.assign(d,u.data))});let g=E([]);const G=()=>v(this,null,function*(){const u=yield le().catch(()=>{});u&&(g=Object.assign(g,u.data))});v(this,null,function*(){yield Promise.all([$(),m(),G()]),r.value=!1});const{t:p}=K(),C=I(()=>l.getUser);return(u,Te)=>{const M=Y("Icon");return _(),k("div",oe,[s("div",null,[n(t(w),{shadow:"never"},{default:a(()=>[n(t(A),{loading:r.value,animated:""},{default:a(()=>[n(t(D),{gutter:20,justify:"space-between"},{default:a(()=>[n(t(h),{xl:12,lg:12,md:12,sm:24,xs:24},{default:a(()=>[s("div",ce,[s("img",{src:C.value.avatar?C.value.avatar:t(V),alt:"",class:"w-70px h-70px rounded-[50%] mr-20px"},null,8,ie),s("div",null,[s("div",de,o(t(F)())+"，"+o(C.value.name)+"，"+o(t(p)("workplace.happyDay")),1),s("div",ue,o(t(H)())+"，"+o(t(J)()),1)])])]),_:1}),n(t(h),{xl:12,lg:12,md:12,sm:24,xs:24},{default:a(()=>{var c;return[s("div",pe,[s("div",me,[_e,s("span",xe,o((c=C.value.last_login)==null?void 0:c.split(" ")[0]),1)])])]}),_:1})]),_:1})]),_:1},8,["loading"])]),_:1})]),s("div",fe,[n(t(D),{gutter:20,justify:"space-between"},{default:a(()=>[n(t(h),{xl:16,lg:16,md:24,sm:24,xs:24,class:"mb-20px"},{default:a(()=>[n(t(w),{shadow:"never"},{header:a(()=>[s("div",ge,[s("span",null,o(t(p)("workplace.project")),1),n(t(O),{type:"primary",underline:!1},{default:a(()=>[j(o(t(p)("workplace.more")),1)]),_:1})])]),default:a(()=>[n(t(A),{loading:r.value,animated:""},{default:a(()=>[n(t(D),null,{default:a(()=>[(_(!0),k(S,null,T(t(x),(c,b)=>(_(),L(t(h),{key:`card-${b}`,xl:8,lg:8,md:12,sm:24,xs:24},{default:a(()=>[n(t(w),{shadow:"hover"},{default:a(()=>[s("div",{class:"cursor-pointer",onClick:P=>y(c.link)},[s("div",ye,[n(M,{icon:c.icon,size:25,class:"mr-10px"},null,8,["icon"]),s("span",ve,o(c.name),1)]),s("div",ke,o(t(p)(c.message)),1),s("div",we,[s("span",null,o(c.personal),1),s("span",null,o(t(Q)(c.time,"yyyy-MM-dd")),1)])],8,he)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["loading"])]),_:1}),n(t(w),{shadow:"never",class:"mt-20px"},{header:a(()=>[s("div",$e,[s("span",null,o(t(p)("workplace.dynamic")),1),n(t(O),{type:"primary",underline:!1},{default:a(()=>[j(o(t(p)("workplace.more")),1)]),_:1})])]),default:a(()=>[n(t(A),{loading:r.value,animated:""},{default:a(()=>[(_(!0),k(S,null,T(t(d),(c,b)=>(_(),k("div",{key:`dynamics-${b}`},[s("div",be,[je,s("div",null,[s("div",Ae,[n(t(ae),{keys:c.keys.map(P=>t(p)(P))},{default:a(()=>[j(o(t(p)("workplace.pushCode")),1)]),_:2},1032,["keys"])]),s("div",Ce,o(t(te)(c.time)),1)])]),n(t(Z))]))),128))]),_:1},8,["loading"])]),_:1})]),_:1}),n(t(h),{xl:8,lg:8,md:24,sm:24,xs:24,class:"mb-20px"},{default:a(()=>[n(t(w),{shadow:"never"},{header:a(()=>[s("span",null,o(t(p)("workplace.shortcutOperation")),1)]),default:a(()=>[n(t(A),{loading:r.value,animated:""},{default:a(()=>[(_(!0),k(S,null,T(t(i),(c,b)=>(_(),L(t(h),{key:`card-${b}`,xl:12,lg:12,md:12,sm:12,xs:12,class:"mb-10px"},{default:a(()=>[n(t(O),{type:"primary",href:c.link,target:"_blank",underline:!1},{default:a(()=>[j(o(c.name),1)]),_:2},1032,["href"])]),_:2},1024))),128))]),_:1},8,["loading"])]),_:1}),n(t(w),{shadow:"never",class:"mt-20px"},{header:a(()=>[s("span",null,o(t(p)("workplace.team")),1)]),default:a(()=>[n(t(A),{loading:r.value,animated:""},{default:a(()=>[n(t(D),null,{default:a(()=>[(_(!0),k(S,null,T(t(g),c=>(_(),L(t(h),{key:`team-${c.name}`,span:12,class:"mb-20px"},{default:a(()=>[s("div",Ee,[n(M,{icon:c.icon,class:"mr-10px"},null,8,["icon"]),n(t(O),{type:"default",underline:!1},{default:a(()=>[j(o(c.name),1)]),_:2},1024)])]),_:2},1024))),128))]),_:1})]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})])])}}});export{Me as default};
//# sourceMappingURL=Workplace-qBqzKIFB.js.map
