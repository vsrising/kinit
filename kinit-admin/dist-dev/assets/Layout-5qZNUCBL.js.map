{"version":3,"file":"Layout-5qZNUCBL.js","sources":["../../src/components/Backtop/src/Backtop.vue","../../src/components/Menu/src/helper.ts","../../src/components/Menu/src/components/useRenderMenuTitle.tsx","../../src/components/Menu/src/components/useRenderMenuItem.tsx","../../src/components/Menu/src/Menu.vue","../../src/components/TabMenu/src/helper.ts","../../src/components/TabMenu/src/TabMenu.vue","../../src/components/TagsView/src/helper.ts","../../src/components/ContextMenu/src/ContextMenu.vue","../../src/hooks/event/useScrollTo.ts","../../src/hooks/web/useTagsView.ts","../../src/components/TagsView/src/TagsView.vue","../../src/components/Logo/src/Logo.vue","../../src/layout/components/AppView.vue","../../src/components/Collapse/src/Collapse.vue","../../src/components/SizeDropdown/src/SizeDropdown.vue","../../src/store/modules/lock.ts","../../src/components/UserInfo/src/components/LockDialog.vue","../../src/utils/dateUtil.ts","../../src/hooks/web/useNow.ts","../../src/components/UserInfo/src/components/LockPage.vue","../../src/components/UserInfo/src/UserInfo.vue","../../src/components/Screenfull/src/Screenfull.vue","../../src/components/Breadcrumb/src/helper.ts","../../src/components/Breadcrumb/src/Breadcrumb.vue","../../src/components/SettingV2/src/components/ColorRadioPicker.vue","../../src/components/SettingV2/src/components/InterfaceDisplay.vue","../../src/components/SettingV2/src/components/LayoutRadioPicker.vue","../../src/components/SettingV2/src/SettingV2.vue","../../src/layout/components/ToolHeader.vue","../../src/layout/components/useRenderLayout.tsx","../../src/layout/Layout.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { ElBacktop } from 'element-plus'\nimport { useDesign } from '@/hooks/web/useDesign'\n\nconst { getPrefixCls, variables } = useDesign()\n\nconst prefixCls = getPrefixCls('backtop')\n</script>\n\n<template>\n  <ElBacktop\n    :class=\"`${prefixCls}-backtop`\"\n    :target=\"`.${variables.namespace}-layout-content-scrollbar .${variables.elNamespace}-scrollbar__wrap`\"\n  />\n</template>\n","import { ref, unref } from 'vue'\nimport { findPath } from '@/utils/tree'\n\ntype OnlyOneChildType = AppRouteRecordRaw & { noShowingChildren?: boolean }\n\ninterface HasOneShowingChild {\n  oneShowingChild?: boolean\n  onlyOneChild?: OnlyOneChildType\n}\n\nexport const getAllParentPath = <T = Recordable>(treeData: T[], path: string) => {\n  const menuList = findPath(treeData, (n) => n.path === path) as AppRouteRecordRaw[]\n  return (menuList || []).map((item) => item.path)\n}\n\nexport const hasOneShowingChild = (\n  children: AppRouteRecordRaw[] = [],\n  parent: AppRouteRecordRaw\n): HasOneShowingChild => {\n  const onlyOneChild = ref<OnlyOneChildType>()\n\n  const showingChildren = children.filter((v) => {\n    const meta = v.meta ?? {}\n    if (meta.hidden) {\n      return false\n    } else {\n      // Temp set(will be used if only has one showing child)\n      onlyOneChild.value = v\n      return true\n    }\n  })\n\n  // When there is only one child router, the child router is displayed by default\n  if (showingChildren.length === 1) {\n    return {\n      oneShowingChild: true,\n      onlyOneChild: unref(onlyOneChild)\n    }\n  }\n\n  // Show parent if there are no child router to display\n  if (!showingChildren.length) {\n    onlyOneChild.value = { ...parent, path: '', noShowingChildren: true }\n    return {\n      oneShowingChild: true,\n      onlyOneChild: unref(onlyOneChild)\n    }\n  }\n\n  return {\n    oneShowingChild: false,\n    onlyOneChild: unref(onlyOneChild)\n  }\n}\n","import type { RouteMeta } from 'vue-router'\nimport { Icon } from '@/components/Icon'\nimport { useI18n } from '@/hooks/web/useI18n'\n\nexport const useRenderMenuTitle = () => {\n  const renderMenuTitle = (meta: RouteMeta) => {\n    const { t } = useI18n()\n    const { title = 'Please set title', icon } = meta\n\n    return icon ? (\n      <>\n        <Icon icon={meta.icon}></Icon>\n        <span class=\"v-menu__title overflow-hidden overflow-ellipsis whitespace-nowrap\">\n          {t(title as string)}\n        </span>\n      </>\n    ) : (\n      <span class=\"v-menu__title overflow-hidden overflow-ellipsis whitespace-nowrap\">\n        {t(title as string)}\n      </span>\n    )\n  }\n\n  return {\n    renderMenuTitle\n  }\n}\n","import { ElSubMenu, ElMenuItem } from 'element-plus'\nimport { hasOneShowingChild } from '../helper'\nimport { isUrl } from '@/utils/is'\nimport { useRenderMenuTitle } from './useRenderMenuTitle'\nimport { useDesign } from '@/hooks/web/useDesign'\nimport { pathResolve } from '@/utils/routerHelper'\n\nconst { renderMenuTitle } = useRenderMenuTitle()\n\nexport const useRenderMenuItem = (\n  // allRouters: AppRouteRecordRaw[] = [],\n  menuMode: 'vertical' | 'horizontal'\n) => {\n  const renderMenuItem = (routers: AppRouteRecordRaw[], parentPath = '/') => {\n    return routers\n      .filter((v) => !v.meta?.hidden)\n      .map((v) => {\n        const meta = v.meta ?? {}\n        const { oneShowingChild, onlyOneChild } = hasOneShowingChild(v.children, v)\n        const fullPath = isUrl(v.path) ? v.path : pathResolve(parentPath, v.path) // getAllParentPath<AppRouteRecordRaw>(allRouters, v.path).join('/')\n\n        if (\n          oneShowingChild &&\n          (!onlyOneChild?.children || onlyOneChild?.noShowingChildren) &&\n          !meta?.alwaysShow\n        ) {\n          return (\n            <ElMenuItem index={onlyOneChild ? pathResolve(fullPath, onlyOneChild.path) : fullPath}>\n              {{\n                default: () => renderMenuTitle(onlyOneChild ? onlyOneChild?.meta : meta)\n              }}\n            </ElMenuItem>\n          )\n        } else {\n          const { getPrefixCls } = useDesign()\n\n          const preFixCls = getPrefixCls('menu-popper')\n          return (\n            <ElSubMenu\n              index={fullPath}\n              popperClass={\n                menuMode === 'vertical' ? `${preFixCls}--vertical` : `${preFixCls}--horizontal`\n              }\n            >\n              {{\n                title: () => renderMenuTitle(meta),\n                default: () => renderMenuItem(v.children!, fullPath)\n              }}\n            </ElSubMenu>\n          )\n        }\n      })\n  }\n\n  return {\n    renderMenuItem\n  }\n}\n","<script lang=\"tsx\">\nimport { computed, defineComponent, unref, PropType } from 'vue'\nimport { ElMenu, ElScrollbar } from 'element-plus'\nimport { useAppStore } from '@/store/modules/app'\nimport { usePermissionStore } from '@/store/modules/permission'\nimport { useRenderMenuItem } from './components/useRenderMenuItem'\nimport { useRouter } from 'vue-router'\nimport { isUrl } from '@/utils/is'\nimport { useDesign } from '@/hooks/web/useDesign'\n\nconst { getPrefixCls } = useDesign()\n\nconst prefixCls = getPrefixCls('menu')\n\nexport default defineComponent({\n  name: 'Menu',\n  props: {\n    menuSelect: {\n      type: Function as PropType<(index: string) => void>,\n      default: undefined\n    }\n  },\n  setup(props) {\n    const appStore = useAppStore()\n\n    const layout = computed(() => appStore.getLayout)\n\n    const { push, currentRoute } = useRouter()\n\n    const permissionStore = usePermissionStore()\n\n    const menuMode = computed((): 'vertical' | 'horizontal' => {\n      // 竖\n      const vertical: LayoutType[] = ['classic', 'topLeft', 'cutMenu']\n\n      if (vertical.includes(unref(layout))) {\n        return 'vertical'\n      } else {\n        return 'horizontal'\n      }\n    })\n\n    const routers = computed(() =>\n      unref(layout) === 'cutMenu' ? permissionStore.getMenuTabRouters : permissionStore.getRouters\n    )\n\n    const collapse = computed(() => appStore.getCollapse)\n\n    const uniqueOpened = computed(() => appStore.getUniqueOpened)\n\n    const activeMenu = computed(() => {\n      const { meta, path } = unref(currentRoute)\n      // if set path, the sidebar will highlight the path you set\n      if (meta.activeMenu) {\n        return meta.activeMenu as string\n      }\n      return path\n    })\n\n    const menuSelect = (index: string) => {\n      if (props.menuSelect) {\n        props.menuSelect(index)\n      }\n      // 自定义事件\n      if (isUrl(index)) {\n        window.open(index)\n      } else {\n        push(index)\n      }\n    }\n\n    const renderMenuWrap = () => {\n      if (unref(layout) === 'top') {\n        return renderMenu()\n      } else {\n        return <ElScrollbar>{renderMenu()}</ElScrollbar>\n      }\n    }\n\n    const renderMenu = () => {\n      return (\n        <ElMenu\n          defaultActive={unref(activeMenu)}\n          mode={unref(menuMode)}\n          collapse={\n            unref(layout) === 'top' || unref(layout) === 'cutMenu' ? false : unref(collapse)\n          }\n          uniqueOpened={unref(layout) === 'top' ? false : unref(uniqueOpened)}\n          backgroundColor=\"var(--left-menu-bg-color)\"\n          textColor=\"var(--left-menu-text-color)\"\n          activeTextColor=\"var(--left-menu-text-active-color)\"\n          onSelect={menuSelect}\n        >\n          {{\n            default: () => {\n              const { renderMenuItem } = useRenderMenuItem(unref(menuMode))\n              return renderMenuItem(unref(routers))\n            }\n          }}\n        </ElMenu>\n      )\n    }\n\n    return () => (\n      <div\n        id={prefixCls}\n        class={[\n          `${prefixCls} ${prefixCls}__${unref(menuMode)}`,\n          'h-[100%] overflow-hidden flex-col bg-[var(--left-menu-bg-color)]',\n          {\n            'w-[var(--left-menu-min-width)]': unref(collapse) && unref(layout) !== 'cutMenu',\n            'w-[var(--left-menu-max-width)]': !unref(collapse) && unref(layout) !== 'cutMenu'\n          }\n        ]}\n      >\n        {renderMenuWrap()}\n      </div>\n    )\n  }\n})\n</script>\n\n<style lang=\"less\" scoped>\n@prefix-cls: ~'@{namespace}-menu';\n\n.@{prefix-cls} {\n  position: relative;\n  transition: width var(--transition-time-02);\n\n  :deep(.@{elNamespace}-menu) {\n    width: 100% !important;\n    border-right: none;\n\n    // 设置选中时子标题的颜色\n    .is-active {\n      & > .@{elNamespace}-sub-menu__title {\n        color: var(--left-menu-text-active-color) !important;\n      }\n    }\n\n    // 设置子菜单悬停的高亮和背景色\n    .@{elNamespace}-sub-menu__title,\n    .@{elNamespace}-menu-item {\n      &:hover {\n        color: var(--left-menu-text-active-color) !important;\n        background-color: var(--left-menu-bg-color) !important;\n      }\n    }\n\n    // 设置选中时的高亮背景和高亮颜色\n    .@{elNamespace}-menu-item.is-active {\n      color: var(--left-menu-text-active-color) !important;\n      background-color: var(--left-menu-bg-active-color) !important;\n\n      &:hover {\n        background-color: var(--left-menu-bg-active-color) !important;\n      }\n    }\n\n    .@{elNamespace}-menu-item.is-active {\n      position: relative;\n    }\n\n    // 设置子菜单的背景颜色\n    .@{elNamespace}-menu {\n      .@{elNamespace}-sub-menu__title,\n      .@{elNamespace}-menu-item:not(.is-active) {\n        background-color: var(--left-menu-bg-light-color) !important;\n      }\n    }\n  }\n\n  // 折叠时的最小宽度\n  :deep(.@{elNamespace}-menu--collapse) {\n    width: var(--left-menu-min-width);\n\n    & > .is-active,\n    & > .is-active > .@{elNamespace}-sub-menu__title {\n      position: relative;\n      background-color: var(--left-menu-collapse-bg-active-color) !important;\n    }\n  }\n\n  // 折叠动画的时候，就需要把文字给隐藏掉\n  :deep(.horizontal-collapse-transition) {\n    .@{prefix-cls}__title {\n      display: none;\n    }\n  }\n\n  // 水平菜单\n  &__horizontal {\n    height: calc(~'var(--top-tool-height)') !important;\n\n    :deep(.@{elNamespace}-menu--horizontal) {\n      height: calc(~'var(--top-tool-height)');\n      border-bottom: none;\n      // 重新设置底部高亮颜色\n      & > .@{elNamespace}-sub-menu.is-active {\n        .@{elNamespace}-sub-menu__title {\n          border-bottom-color: var(--el-color-primary) !important;\n        }\n      }\n\n      .@{elNamespace}-menu-item.is-active {\n        position: relative;\n\n        &::after {\n          display: none !important;\n        }\n      }\n\n      .@{prefix-cls}__title {\n        /* stylelint-disable-next-line */\n        max-height: calc(~'var(--top-tool-height) - 2px') !important;\n        /* stylelint-disable-next-line */\n        line-height: calc(~'var(--top-tool-height) - 2px');\n      }\n    }\n  }\n}\n</style>\n\n<style lang=\"less\">\n@prefix-cls: ~'@{namespace}-menu-popper';\n\n.@{prefix-cls}--vertical,\n.@{prefix-cls}--horizontal {\n  // 设置选中时子标题的颜色\n  .is-active {\n    & > .el-sub-menu__title {\n      color: var(--left-menu-text-active-color) !important;\n    }\n  }\n\n  // 设置子菜单悬停的高亮和背景色\n  .el-sub-menu__title,\n  .el-menu-item {\n    &:hover {\n      color: var(--left-menu-text-active-color) !important;\n      background-color: var(--left-menu-bg-color) !important;\n    }\n  }\n\n  // 设置选中时的高亮背景\n  .el-menu-item.is-active {\n    position: relative;\n    background-color: var(--left-menu-bg-active-color) !important;\n\n    &:hover {\n      background-color: var(--left-menu-bg-active-color) !important;\n    }\n  }\n}\n</style>\n","import { getAllParentPath } from '@/components/Menu/src/helper'\nimport { isUrl } from '@/utils/is'\nimport { cloneDeep } from 'lodash-es'\nimport { reactive } from 'vue'\n\nexport type TabMapTypes = {\n  [key: string]: string[]\n}\n\nexport const tabPathMap = reactive<TabMapTypes>({})\n\nexport const initTabMap = (routes: AppRouteRecordRaw[]) => {\n  for (const v of routes) {\n    const meta = v.meta ?? {}\n    if (!meta?.hidden) {\n      tabPathMap[v.path] = []\n    }\n  }\n}\n\nexport const filterMenusPath = (\n  routes: AppRouteRecordRaw[],\n  allRoutes: AppRouteRecordRaw[]\n): AppRouteRecordRaw[] => {\n  const res: AppRouteRecordRaw[] = []\n  for (const v of routes) {\n    let data: Nullable<AppRouteRecordRaw> = null\n    const meta = v.meta ?? {}\n    if (!meta.hidden || meta.canTo) {\n      const allParentPath = getAllParentPath<AppRouteRecordRaw>(allRoutes, v.path)\n\n      const fullPath = isUrl(v.path) ? v.path : allParentPath.join('/')\n\n      data = cloneDeep(v)\n      data.path = fullPath\n      if (v.children && data) {\n        data.children = filterMenusPath(v.children, allRoutes)\n      }\n\n      if (data) {\n        res.push(data)\n      }\n\n      if (allParentPath.length && Reflect.has(tabPathMap, allParentPath[0])) {\n        tabPathMap[allParentPath[0]].push(fullPath)\n      }\n    }\n  }\n\n  return res\n}\n","<script lang=\"tsx\">\nimport { usePermissionStore } from '@/store/modules/permission'\nimport { useAppStore } from '@/store/modules/app'\nimport { computed, unref, defineComponent, watch, ref, onMounted } from 'vue'\nimport { useI18n } from '@/hooks/web/useI18n'\nimport { ElScrollbar, ClickOutside } from 'element-plus'\nimport { Icon } from '@/components/Icon'\nimport { Menu } from '@/components/Menu'\nimport { useRouter } from 'vue-router'\nimport { pathResolve } from '@/utils/routerHelper'\nimport { cloneDeep } from 'lodash-es'\nimport { filterMenusPath, initTabMap, tabPathMap } from './helper'\nimport { useDesign } from '@/hooks/web/useDesign'\nimport { isUrl } from '@/utils/is'\n\nconst { getPrefixCls, variables } = useDesign()\n\nconst prefixCls = getPrefixCls('tab-menu')\n\nexport default defineComponent({\n  name: 'TabMenu',\n  directives: {\n    ClickOutside\n  },\n  setup() {\n    const { push, currentRoute } = useRouter()\n\n    const { t } = useI18n()\n\n    const appStore = useAppStore()\n\n    const collapse = computed(() => appStore.getCollapse)\n\n    const fixedMenu = computed(() => appStore.getFixedMenu)\n\n    const permissionStore = usePermissionStore()\n\n    const routers = computed(() => permissionStore.getRouters)\n\n    const tabRouters = computed(() => unref(routers).filter((v) => !v?.meta?.hidden))\n\n    const setCollapse = () => {\n      appStore.setCollapse(!unref(collapse))\n    }\n\n    onMounted(() => {\n      if (unref(fixedMenu)) {\n        const path = `/${unref(currentRoute).path.split('/')[1]}`\n        const children = unref(tabRouters).find(\n          (v) =>\n            (v.meta?.alwaysShow || (v?.children?.length && v?.children?.length > 1)) &&\n            v.path === path\n        )?.children\n\n        tabActive.value = path\n        if (children) {\n          permissionStore.setMenuTabRouters(\n            cloneDeep(children).map((v) => {\n              v.path = pathResolve(unref(tabActive), v.path)\n              return v\n            })\n          )\n        }\n      }\n    })\n\n    watch(\n      () => routers.value,\n      (routers: AppRouteRecordRaw[]) => {\n        initTabMap(routers)\n        filterMenusPath(routers, routers)\n      },\n      {\n        immediate: true,\n        deep: true\n      }\n    )\n\n    const showTitle = ref(true)\n\n    watch(\n      () => collapse.value,\n      (collapse: boolean) => {\n        if (!collapse) {\n          setTimeout(() => {\n            showTitle.value = !collapse\n          }, 200)\n        } else {\n          showTitle.value = !collapse\n        }\n      }\n    )\n\n    // 是否显示菜单\n    const showMenu = ref(unref(fixedMenu) ? true : false)\n\n    // tab高亮\n    const tabActive = ref('')\n\n    // tab点击事件\n    const tabClick = (item: AppRouteRecordRaw) => {\n      if (isUrl(item.path)) {\n        window.open(item.path)\n        return\n      }\n      const newPath = item.children ? item.path : item.path.split('/')[0]\n      const oldPath = unref(tabActive)\n      tabActive.value = item.children ? item.path : item.path.split('/')[0]\n      if (item.children) {\n        if (newPath === oldPath || !unref(showMenu)) {\n          // showMenu.value = unref(fixedMenu) ? true : !unref(showMenu)\n          showMenu.value = !unref(showMenu)\n        }\n        if (unref(showMenu)) {\n          permissionStore.setMenuTabRouters(\n            cloneDeep(item.children).map((v) => {\n              v.path = pathResolve(unref(tabActive), v.path)\n              return v\n            })\n          )\n        }\n      } else {\n        push(item.path)\n        permissionStore.setMenuTabRouters([])\n        showMenu.value = false\n      }\n    }\n\n    // 设置高亮\n    const isActive = (currentPath: string) => {\n      const { path } = unref(currentRoute)\n      if (tabPathMap[currentPath].includes(path)) {\n        return true\n      }\n      return false\n    }\n\n    const clickOut = () => {\n      if (!unref(fixedMenu)) {\n        showMenu.value = false\n      }\n    }\n\n    return () => (\n      <div\n        id={`${variables.namespace}-menu`}\n        v-click-outside={clickOut}\n        class={[\n          prefixCls,\n          'relative bg-[var(--left-menu-bg-color)] top-1px layout-border__right',\n          {\n            'w-[var(--tab-menu-max-width)]': !unref(collapse),\n            'w-[var(--tab-menu-min-width)]': unref(collapse)\n          }\n        ]}\n      >\n        <ElScrollbar class=\"!h-[calc(100%-var(--tab-menu-collapse-height)-1px)]\">\n          <div>\n            {() => {\n              return unref(tabRouters).map((v) => {\n                const item = (\n                  v.meta?.alwaysShow || (v?.children?.length && v?.children?.length > 1)\n                    ? v\n                    : {\n                        ...(v?.children && v?.children[0]),\n                        path: pathResolve(v.path, (v?.children && v?.children[0])?.path as string)\n                      }\n                ) as AppRouteRecordRaw\n                return (\n                  <div\n                    class={[\n                      `${prefixCls}__item`,\n                      'text-center text-12px relative py-12px cursor-pointer',\n                      {\n                        'is-active': isActive(v.path)\n                      }\n                    ]}\n                    onClick={() => {\n                      tabClick(item)\n                    }}\n                  >\n                    <div>\n                      <Icon icon={item?.meta?.icon}></Icon>\n                    </div>\n                    {!unref(showTitle) ? undefined : (\n                      <p class=\"break-words mt-5px px-2px\">{t(item.meta?.title || '')}</p>\n                    )}\n                  </div>\n                )\n              })\n            }}\n          </div>\n        </ElScrollbar>\n        <div\n          class={[\n            `${prefixCls}--collapse`,\n            'text-center h-[var(--tab-menu-collapse-height)] leading-[var(--tab-menu-collapse-height)] cursor-pointer'\n          ]}\n          onClick={setCollapse}\n        >\n          <Icon icon={unref(collapse) ? 'ep:d-arrow-right' : 'ep:d-arrow-left'}></Icon>\n        </div>\n        <Menu\n          class={[\n            '!absolute top-0 z-1000',\n            {\n              '!left-[var(--tab-menu-min-width)]': unref(collapse),\n              '!left-[var(--tab-menu-max-width)]': !unref(collapse),\n              '!w-[var(--left-menu-max-width)]': unref(showMenu) || unref(fixedMenu),\n              '!w-0': !unref(showMenu) && !unref(fixedMenu)\n            }\n          ]}\n          style=\"transition: width var(--transition-time-02), left var(--transition-time-02);\"\n        ></Menu>\n      </div>\n    )\n  }\n})\n</script>\n\n<style lang=\"less\" scoped>\n@prefix-cls: ~'@{namespace}-tab-menu';\n\n.@{prefix-cls} {\n  transition: all var(--transition-time-02);\n\n  &__item {\n    color: var(--left-menu-text-color);\n    transition: all var(--transition-time-02);\n\n    &:hover {\n      color: var(--left-menu-text-active-color);\n      // background-color: var(--left-menu-bg-active-color);\n    }\n  }\n\n  &--collapse {\n    color: var(--left-menu-text-color);\n    background-color: var(--left-menu-bg-light-color);\n  }\n\n  .is-active {\n    color: var(--left-menu-text-active-color);\n    background-color: var(--left-menu-bg-active-color);\n  }\n}\n</style>\n","import type { RouteLocationNormalizedLoaded } from 'vue-router'\nimport { pathResolve } from '@/utils/routerHelper'\n\nexport const filterAffixTags = (routes: AppRouteRecordRaw[], parentPath = '') => {\n  let tags: RouteLocationNormalizedLoaded[] = []\n  routes.forEach((route) => {\n    const meta = route.meta ?? {}\n    const tagPath = pathResolve(parentPath, route.path)\n    if (meta?.affix) {\n      tags.push({ ...route, path: tagPath, fullPath: tagPath } as RouteLocationNormalizedLoaded)\n    }\n    if (route.children) {\n      const tempTags: RouteLocationNormalizedLoaded[] = filterAffixTags(route.children, tagPath)\n      if (tempTags.length >= 1) {\n        tags = [...tags, ...tempTags]\n      }\n    }\n  })\n\n  return tags\n}\n","<script setup lang=\"ts\">\nimport { ElDropdown, ElDropdownMenu, ElDropdownItem } from 'element-plus'\nimport { PropType, ref } from 'vue'\nimport { useI18n } from '@/hooks/web/useI18n'\nimport { useDesign } from '@/hooks/web/useDesign'\nimport type { RouteLocationNormalizedLoaded } from 'vue-router'\nimport { ContextMenuSchema } from './types'\nconst { getPrefixCls } = useDesign()\n\nconst prefixCls = getPrefixCls('context-menu')\n\nconst { t } = useI18n()\n\nconst emit = defineEmits(['visibleChange'])\n\nconst props = defineProps({\n  schema: {\n    type: Array as PropType<ContextMenuSchema[]>,\n    default: () => []\n  },\n  trigger: {\n    type: String as PropType<'click' | 'hover' | 'focus' | 'contextmenu'>,\n    default: 'contextmenu'\n  },\n  tagItem: {\n    type: Object as PropType<RouteLocationNormalizedLoaded>,\n    default: () => ({})\n  }\n})\n\nconst command = (item: ContextMenuSchema) => {\n  item.command && item.command(item)\n}\n\nconst visibleChange = (visible: boolean) => {\n  emit('visibleChange', visible, props.tagItem)\n}\n\nconst elDropdownMenuRef = ref<ComponentRef<typeof ElDropdown>>()\n\ndefineExpose({\n  elDropdownMenuRef,\n  tagItem: props.tagItem\n})\n</script>\n\n<template>\n  <ElDropdown\n    ref=\"elDropdownMenuRef\"\n    :class=\"prefixCls\"\n    :trigger=\"trigger\"\n    placement=\"bottom-start\"\n    @command=\"command\"\n    @visible-change=\"visibleChange\"\n    popper-class=\"v-context-menu-popper\"\n  >\n    <slot></slot>\n    <template #dropdown>\n      <ElDropdownMenu>\n        <ElDropdownItem\n          v-for=\"(item, index) in schema\"\n          :key=\"`dropdown${index}`\"\n          :divided=\"item.divided\"\n          :disabled=\"item.disabled\"\n          :command=\"item\"\n        >\n          <Icon :icon=\"item.icon\" /> {{ t(item.label) }}\n        </ElDropdownItem>\n      </ElDropdownMenu>\n    </template>\n  </ElDropdown>\n</template>\n","import { ref, unref } from 'vue'\n\nexport interface ScrollToParams {\n  el: HTMLElement\n  to: number\n  position: string\n  duration?: number\n  callback?: () => void\n}\n\nconst easeInOutQuad = (t: number, b: number, c: number, d: number) => {\n  t /= d / 2\n  if (t < 1) {\n    return (c / 2) * t * t + b\n  }\n  t--\n  return (-c / 2) * (t * (t - 2) - 1) + b\n}\nconst move = (el: HTMLElement, position: string, amount: number) => {\n  el[position] = amount\n}\n\nexport function useScrollTo({\n  el,\n  position = 'scrollLeft',\n  to,\n  duration = 500,\n  callback\n}: ScrollToParams) {\n  const isActiveRef = ref(false)\n  const start = el[position]\n  const change = to - start\n  const increment = 20\n  let currentTime = 0\n\n  function animateScroll() {\n    if (!unref(isActiveRef)) {\n      return\n    }\n    currentTime += increment\n    const val = easeInOutQuad(currentTime, start, change, duration)\n    move(el, position, val)\n    if (currentTime < duration && unref(isActiveRef)) {\n      requestAnimationFrame(animateScroll)\n    } else {\n      if (callback) {\n        callback()\n      }\n    }\n  }\n\n  function run() {\n    isActiveRef.value = true\n    animateScroll()\n  }\n\n  function stop() {\n    isActiveRef.value = false\n  }\n\n  return { start: run, stop }\n}\n","import { useTagsViewStoreWithOut } from '@/store/modules/tagsView'\nimport { RouteLocationNormalizedLoaded, useRouter } from 'vue-router'\nimport { computed, nextTick, unref } from 'vue'\n\nexport const useTagsView = () => {\n  const tagsViewStore = useTagsViewStoreWithOut()\n\n  const { replace, currentRoute } = useRouter()\n\n  const selectedTag = computed(() => tagsViewStore.getSelectedTag)\n\n  const closeAll = (callback?: Fn) => {\n    tagsViewStore.delAllViews()\n    callback?.()\n  }\n\n  const closeLeft = (callback?: Fn) => {\n    tagsViewStore.delLeftViews(unref(selectedTag) as RouteLocationNormalizedLoaded)\n    callback?.()\n  }\n\n  const closeRight = (callback?: Fn) => {\n    tagsViewStore.delRightViews(unref(selectedTag) as RouteLocationNormalizedLoaded)\n    callback?.()\n  }\n\n  const closeOther = (callback?: Fn) => {\n    tagsViewStore.delOthersViews(unref(selectedTag) as RouteLocationNormalizedLoaded)\n    callback?.()\n  }\n\n  const closeCurrent = (view?: RouteLocationNormalizedLoaded, callback?: Fn) => {\n    if (view?.meta?.affix) return\n    tagsViewStore.delView(view || unref(currentRoute))\n\n    callback?.()\n  }\n\n  const refreshPage = async (view?: RouteLocationNormalizedLoaded, callback?: Fn) => {\n    tagsViewStore.delCachedView()\n    const { path, query } = view || unref(currentRoute)\n    await nextTick()\n    replace({\n      path: '/redirect' + path,\n      query: query\n    })\n    callback?.()\n  }\n\n  const setTitle = (title: string, path?: string) => {\n    tagsViewStore.setTitle(title, path)\n  }\n\n  return {\n    closeAll,\n    closeLeft,\n    closeRight,\n    closeOther,\n    closeCurrent,\n    refreshPage,\n    setTitle\n  }\n}\n","<script setup lang=\"ts\">\nimport { onMounted, watch, computed, unref, ref, nextTick } from 'vue'\nimport { useRouter } from 'vue-router'\nimport type { RouteLocationNormalizedLoaded, RouterLinkProps } from 'vue-router'\nimport { usePermissionStore } from '@/store/modules/permission'\nimport { useTagsViewStore } from '@/store/modules/tagsView'\nimport { useAppStore } from '@/store/modules/app'\nimport { useI18n } from '@/hooks/web/useI18n'\nimport { filterAffixTags } from './helper'\nimport { ContextMenu, ContextMenuExpose } from '@/components/ContextMenu'\nimport { useDesign } from '@/hooks/web/useDesign'\nimport { useTemplateRefsList } from '@vueuse/core'\nimport { ElScrollbar } from 'element-plus'\nimport { useScrollTo } from '@/hooks/event/useScrollTo'\nimport { useTagsView } from '@/hooks/web/useTagsView'\nimport { cloneDeep } from 'lodash-es'\n\nconst { getPrefixCls } = useDesign()\n\nconst prefixCls = getPrefixCls('tags-view')\n\nconst { t } = useI18n()\n\nconst { currentRoute, push } = useRouter()\n\nconst { closeAll, closeLeft, closeRight, closeOther, closeCurrent, refreshPage } = useTagsView()\n\nconst permissionStore = usePermissionStore()\n\nconst routers = computed(() => permissionStore.getRouters)\n\nconst tagsViewStore = useTagsViewStore()\n\nconst visitedViews = computed(() => tagsViewStore.getVisitedViews)\n\nconst affixTagArr = ref<RouteLocationNormalizedLoaded[]>([])\n\nconst selectedTag = computed(() => tagsViewStore.getSelectedTag)\n\nconst setSelectTag = tagsViewStore.setSelectedTag\n\nconst appStore = useAppStore()\n\nconst tagsViewIcon = computed(() => appStore.getTagsViewIcon)\n\nconst isDark = computed(() => appStore.getIsDark)\n\n// 初始化tag\nconst initTags = () => {\n  affixTagArr.value = filterAffixTags(unref(routers))\n  for (const tag of unref(affixTagArr)) {\n    // Must have tag name\n    if (tag.name) {\n      tagsViewStore.addVisitedView(cloneDeep(tag))\n    }\n  }\n}\n\n// 新增tag\nconst addTags = () => {\n  const { name } = unref(currentRoute)\n  if (name) {\n    setSelectTag(unref(currentRoute))\n    tagsViewStore.addView(unref(currentRoute))\n  }\n}\n\n// 关闭选中的tag\nconst closeSelectedTag = (view: RouteLocationNormalizedLoaded) => {\n  closeCurrent(view, () => {\n    if (isActive(view)) {\n      toLastView()\n    }\n  })\n}\n\n// 去最后一个\nconst toLastView = () => {\n  const visitedViews = tagsViewStore.getVisitedViews\n  const latestView = visitedViews.slice(-1)[0]\n  if (latestView) {\n    push(latestView)\n  } else {\n    if (\n      unref(currentRoute).path === permissionStore.getAddRouters[0].path ||\n      unref(currentRoute).path === permissionStore.getAddRouters[0].redirect\n    ) {\n      addTags()\n      return\n    }\n    // You can set another route\n    push(permissionStore.getAddRouters[0].path)\n  }\n}\n\n// 关闭全部\nconst closeAllTags = () => {\n  closeAll(() => {\n    toLastView()\n  })\n}\n\n// 关闭其它\nconst closeOthersTags = () => {\n  closeOther()\n}\n\n// 重新加载\nconst refreshSelectedTag = async (view?: RouteLocationNormalizedLoaded) => {\n  refreshPage(view)\n}\n\n// 关闭左侧\nconst closeLeftTags = () => {\n  closeLeft()\n}\n\n// 关闭右侧\nconst closeRightTags = () => {\n  closeRight()\n}\n\n// 滚动到选中的tag\nconst moveToCurrentTag = async () => {\n  await nextTick()\n  for (const v of unref(visitedViews)) {\n    if (v.fullPath === unref(currentRoute).path) {\n      moveToTarget(v)\n      if (v.fullPath !== unref(currentRoute).fullPath) {\n        tagsViewStore.updateVisitedView(unref(currentRoute))\n      }\n\n      break\n    }\n  }\n}\n\nconst tagLinksRefs = useTemplateRefsList<RouterLinkProps>()\n\nconst moveToTarget = (currentTag: RouteLocationNormalizedLoaded) => {\n  const wrap$ = unref(scrollbarRef)?.wrapRef\n  let firstTag: Nullable<RouterLinkProps> = null\n  let lastTag: Nullable<RouterLinkProps> = null\n\n  const tagList = unref(tagLinksRefs)\n  // find first tag and last tag\n  if (tagList.length > 0) {\n    firstTag = tagList[0]\n    lastTag = tagList[tagList.length - 1]\n  }\n  if ((firstTag?.to as RouteLocationNormalizedLoaded).fullPath === currentTag.fullPath) {\n    // 直接滚动到0的位置\n    const { start } = useScrollTo({\n      el: wrap$!,\n      position: 'scrollLeft',\n      to: 0,\n      duration: 500\n    })\n    start()\n  } else if ((lastTag?.to as RouteLocationNormalizedLoaded).fullPath === currentTag.fullPath) {\n    // 滚动到最后的位置\n    const { start } = useScrollTo({\n      el: wrap$!,\n      position: 'scrollLeft',\n      to: wrap$!.scrollWidth - wrap$!.offsetWidth,\n      duration: 500\n    })\n    start()\n  } else {\n    // find preTag and nextTag\n    const currentIndex: number = tagList.findIndex(\n      (item) => (item?.to as RouteLocationNormalizedLoaded).fullPath === currentTag.fullPath\n    )\n    const tgsRefs = document.getElementsByClassName(`${prefixCls}__item`)\n\n    const prevTag = tgsRefs[currentIndex - 1] as HTMLElement\n    const nextTag = tgsRefs[currentIndex + 1] as HTMLElement\n\n    // the tag's offsetLeft after of nextTag\n    const afterNextTagOffsetLeft = nextTag.offsetLeft + nextTag.offsetWidth + 4\n\n    // the tag's offsetLeft before of prevTag\n    const beforePrevTagOffsetLeft = prevTag.offsetLeft - 4\n\n    if (afterNextTagOffsetLeft > unref(scrollLeftNumber) + wrap$!.offsetWidth) {\n      const { start } = useScrollTo({\n        el: wrap$!,\n        position: 'scrollLeft',\n        to: afterNextTagOffsetLeft - wrap$!.offsetWidth,\n        duration: 500\n      })\n      start()\n    } else if (beforePrevTagOffsetLeft < unref(scrollLeftNumber)) {\n      const { start } = useScrollTo({\n        el: wrap$!,\n        position: 'scrollLeft',\n        to: beforePrevTagOffsetLeft,\n        duration: 500\n      })\n      start()\n    }\n  }\n}\n\n// 是否是当前tag\nconst isActive = (route: RouteLocationNormalizedLoaded): boolean => {\n  return route.path === unref(currentRoute).path\n}\n\n// 所有右键菜单组件的元素\nconst itemRefs = useTemplateRefsList<ComponentRef<typeof ContextMenu & ContextMenuExpose>>()\n\n// 右键菜单装填改变的时候\nconst visibleChange = (visible: boolean, tagItem: RouteLocationNormalizedLoaded) => {\n  if (visible) {\n    for (const v of unref(itemRefs)) {\n      const elDropdownMenuRef = v.elDropdownMenuRef\n      if (tagItem.fullPath !== v.tagItem.fullPath) {\n        elDropdownMenuRef?.handleClose()\n      }\n    }\n  }\n}\n\n// elscroll 实例\nconst scrollbarRef = ref<ComponentRef<typeof ElScrollbar>>()\n\n// 保存滚动位置\nconst scrollLeftNumber = ref(0)\n\nconst scroll = ({ scrollLeft }) => {\n  scrollLeftNumber.value = scrollLeft as number\n}\n\n// 移动到某个位置\nconst move = (to: number) => {\n  const wrap$ = unref(scrollbarRef)?.wrapRef\n  const { start } = useScrollTo({\n    el: wrap$!,\n    position: 'scrollLeft',\n    to: unref(scrollLeftNumber) + to,\n    duration: 500\n  })\n  start()\n}\n\nonMounted(() => {\n  initTags()\n  addTags()\n})\n\nwatch(\n  () => currentRoute.value,\n  () => {\n    addTags()\n    moveToCurrentTag()\n  }\n)\n</script>\n\n<template>\n  <div\n    :id=\"prefixCls\"\n    :class=\"prefixCls\"\n    class=\"flex w-full relative bg-[#fff] dark:bg-[var(--el-bg-color)]\"\n  >\n    <span\n      :class=\"`${prefixCls}__tool ${prefixCls}__tool--first`\"\n      class=\"w-[var(--tags-view-height)] h-[var(--tags-view-height)] flex items-center justify-center cursor-pointer\"\n      @click=\"move(-200)\"\n    >\n      <Icon\n        icon=\"ep:d-arrow-left\"\n        color=\"var(--el-text-color-placeholder)\"\n        :hover-color=\"isDark ? '#fff' : 'var(--el-color-black)'\"\n      />\n    </span>\n    <div class=\"overflow-hidden flex-1\">\n      <ElScrollbar ref=\"scrollbarRef\" class=\"h-full\" @scroll=\"scroll\">\n        <div class=\"flex h-full\">\n          <ContextMenu\n            :ref=\"itemRefs.set\"\n            :schema=\"[\n              {\n                icon: 'ant-design:sync-outlined',\n                label: t('common.reload'),\n                disabled: selectedTag?.fullPath !== item.fullPath,\n                command: () => {\n                  refreshSelectedTag(item)\n                }\n              },\n              {\n                icon: 'ant-design:close-outlined',\n                label: t('common.closeTab'),\n                disabled: !!visitedViews?.length && selectedTag?.meta.affix,\n                command: () => {\n                  closeSelectedTag(item)\n                }\n              },\n              {\n                divided: true,\n                icon: 'ant-design:vertical-right-outlined',\n                label: t('common.closeTheLeftTab'),\n                disabled:\n                  !!visitedViews?.length &&\n                  (item.fullPath === visitedViews[0].fullPath ||\n                    selectedTag?.fullPath !== item.fullPath),\n                command: () => {\n                  closeLeftTags()\n                }\n              },\n              {\n                icon: 'ant-design:vertical-left-outlined',\n                label: t('common.closeTheRightTab'),\n                disabled:\n                  !!visitedViews?.length &&\n                  (item.fullPath === visitedViews[visitedViews.length - 1].fullPath ||\n                    selectedTag?.fullPath !== item.fullPath),\n                command: () => {\n                  closeRightTags()\n                }\n              },\n              {\n                divided: true,\n                icon: 'ant-design:tag-outlined',\n                label: t('common.closeOther'),\n                disabled: selectedTag?.fullPath !== item.fullPath,\n                command: () => {\n                  closeOthersTags()\n                }\n              },\n              {\n                icon: 'ant-design:line-outlined',\n                label: t('common.closeAll'),\n                command: () => {\n                  closeAllTags()\n                }\n              }\n            ]\"\n            v-for=\"item in visitedViews\"\n            :key=\"item.fullPath\"\n            :tag-item=\"item\"\n            :class=\"[\n              `${prefixCls}__item`,\n              item?.meta?.affix ? `${prefixCls}__item--affix` : '',\n              {\n                'is-active': isActive(item)\n              }\n            ]\"\n            @visible-change=\"visibleChange\"\n          >\n            <div>\n              <router-link :ref=\"tagLinksRefs.set\" :to=\"{ ...item }\" custom v-slot=\"{ navigate }\">\n                <div\n                  @click=\"navigate\"\n                  class=\"h-full flex justify-center items-center whitespace-nowrap pl-15px\"\n                >\n                  <Icon\n                    v-if=\"\n                      item?.matched &&\n                      item?.matched[1] &&\n                      item?.matched[1]?.meta?.icon &&\n                      tagsViewIcon\n                    \"\n                    :icon=\"item?.matched[1]?.meta?.icon\"\n                    :size=\"12\"\n                    class=\"mr-5px\"\n                  />\n                  {{ t(item?.meta?.title as string) }}\n                  <Icon\n                    :class=\"`${prefixCls}__item--close`\"\n                    color=\"#333\"\n                    icon=\"ant-design:close-outlined\"\n                    :size=\"12\"\n                    @click.prevent.stop=\"closeSelectedTag(item)\"\n                  />\n                </div>\n              </router-link>\n            </div>\n          </ContextMenu>\n        </div>\n      </ElScrollbar>\n    </div>\n    <span\n      :class=\"`${prefixCls}__tool`\"\n      class=\"w-[var(--tags-view-height)] h-[var(--tags-view-height)] flex items-center justify-center cursor-pointer\"\n      @click=\"move(200)\"\n    >\n      <Icon\n        icon=\"ep:d-arrow-right\"\n        color=\"var(--el-text-color-placeholder)\"\n        :hover-color=\"isDark ? '#fff' : 'var(--el-color-black)'\"\n      />\n    </span>\n    <span\n      :class=\"`${prefixCls}__tool`\"\n      class=\"w-[var(--tags-view-height)] h-[var(--tags-view-height)] flex items-center justify-center cursor-pointer\"\n      @click=\"refreshSelectedTag(selectedTag)\"\n    >\n      <Icon\n        icon=\"ant-design:reload-outlined\"\n        color=\"var(--el-text-color-placeholder)\"\n        :hover-color=\"isDark ? '#fff' : 'var(--el-color-black)'\"\n      />\n    </span>\n    <ContextMenu\n      trigger=\"click\"\n      :schema=\"[\n        {\n          icon: 'ant-design:sync-outlined',\n          label: t('common.reload'),\n          command: () => {\n            refreshSelectedTag(selectedTag)\n          }\n        },\n        {\n          icon: 'ant-design:close-outlined',\n          label: t('common.closeTab'),\n          disabled: !!visitedViews?.length && selectedTag?.meta.affix,\n          command: () => {\n            closeSelectedTag(selectedTag!)\n          }\n        },\n        {\n          divided: true,\n          icon: 'ant-design:vertical-right-outlined',\n          label: t('common.closeTheLeftTab'),\n          disabled: !!visitedViews?.length && selectedTag?.fullPath === visitedViews[0].fullPath,\n          command: () => {\n            closeLeftTags()\n          }\n        },\n        {\n          icon: 'ant-design:vertical-left-outlined',\n          label: t('common.closeTheRightTab'),\n          disabled:\n            !!visitedViews?.length &&\n            selectedTag?.fullPath === visitedViews[visitedViews.length - 1].fullPath,\n          command: () => {\n            closeRightTags()\n          }\n        },\n        {\n          divided: true,\n          icon: 'ant-design:tag-outlined',\n          label: t('common.closeOther'),\n          command: () => {\n            closeOthersTags()\n          }\n        },\n        {\n          icon: 'ant-design:line-outlined',\n          label: t('common.closeAll'),\n          command: () => {\n            closeAllTags()\n          }\n        }\n      ]\"\n    >\n      <span\n        :class=\"`${prefixCls}__tool`\"\n        class=\"w-[var(--tags-view-height)] h-[var(--tags-view-height)] flex items-center justify-center cursor-pointer block\"\n      >\n        <Icon\n          icon=\"ant-design:setting-outlined\"\n          color=\"var(--el-text-color-placeholder)\"\n          :hover-color=\"isDark ? '#fff' : 'var(--el-color-black)'\"\n        />\n      </span>\n    </ContextMenu>\n  </div>\n</template>\n\n<style lang=\"less\" scoped>\n@prefix-cls: ~'@{namespace}-tags-view';\n\n.@{prefix-cls} {\n  :deep(.@{elNamespace}-scrollbar__view) {\n    height: 100%;\n  }\n\n  &__tool {\n    position: relative;\n\n    &::before {\n      position: absolute;\n      top: 1px;\n      left: 0;\n      width: 100%;\n      height: calc(~'100% - 1px');\n      border-left: 1px solid var(--el-border-color);\n      content: '';\n    }\n\n    &--first {\n      &::before {\n        position: absolute;\n        top: 1px;\n        left: 0;\n        width: 100%;\n        height: calc(~'100% - 1px');\n        border-right: 1px solid var(--el-border-color);\n        border-left: none;\n        content: '';\n      }\n    }\n  }\n\n  &__item {\n    position: relative;\n    top: 2px;\n    height: calc(~'100% - 6px');\n    padding-right: 25px;\n    margin-left: 4px;\n    font-size: 12px;\n    cursor: pointer;\n    border: 1px solid #d9d9d9;\n    border-radius: 2px;\n\n    &--close {\n      position: absolute;\n      top: 50%;\n      right: 5px;\n      display: none;\n      transform: translate(0, -50%);\n    }\n    &:not(.@{prefix-cls}__item--affix):hover {\n      .@{prefix-cls}__item--close {\n        display: block;\n      }\n    }\n  }\n\n  &__item:not(.is-active) {\n    &:hover {\n      color: var(--el-color-primary);\n    }\n  }\n\n  &__item.is-active {\n    color: var(--el-color-white);\n    background-color: var(--el-color-primary);\n    border: 1px solid var(--el-color-primary);\n    .@{prefix-cls}__item--close {\n      :deep(svg) {\n        color: var(--el-color-white) !important;\n      }\n    }\n  }\n}\n\n.dark {\n  .@{prefix-cls} {\n    &__tool {\n      &--first {\n        &::after {\n          display: none;\n        }\n      }\n    }\n\n    &__item {\n      border: 1px solid var(--el-border-color);\n    }\n\n    &__item:not(.is-active) {\n      &:hover {\n        color: var(--el-color-primary);\n      }\n    }\n\n    &__item.is-active {\n      color: var(--el-color-white);\n      background-color: var(--el-color-primary);\n      border: 1px solid var(--el-color-primary);\n      .@{prefix-cls}__item--close {\n        :deep(svg) {\n          color: var(--el-color-white) !important;\n        }\n      }\n    }\n  }\n}\n</style>\n@/hooks/web/useTagsView\n","<script setup lang=\"ts\">\nimport { ref, watch, computed, onMounted, unref } from 'vue'\nimport { useAppStore } from '@/store/modules/app'\nimport { useDesign } from '@/hooks/web/useDesign'\n\nconst { getPrefixCls } = useDesign()\n\nconst prefixCls = getPrefixCls('logo')\n\nconst appStore = useAppStore()\n\nconst show = ref(true)\n\nconst title = computed(() => appStore.getTitle)\n\nconst layout = computed(() => appStore.getLayout)\n\nconst collapse = computed(() => appStore.getCollapse)\n\nconst logoImage = computed(() => appStore.getLogoImage)\n\nonMounted(() => {\n  if (unref(collapse)) show.value = false\n})\n\nwatch(\n  () => collapse.value,\n  (collapse: boolean) => {\n    if (unref(layout) === 'topLeft' || unref(layout) === 'cutMenu') {\n      show.value = true\n      return\n    }\n    show.value = !collapse\n  }\n)\n\nwatch(\n  () => layout.value,\n  (layout) => {\n    if (layout === 'top' || layout === 'cutMenu') {\n      show.value = true\n    } else {\n      if (unref(collapse)) {\n        show.value = false\n      } else {\n        show.value = true\n      }\n    }\n  }\n)\n</script>\n\n<template>\n  <div>\n    <router-link\n      :class=\"[\n        prefixCls,\n        layout !== 'classic' ? `${prefixCls}__Top` : '',\n        'flex !h-[var(--logo-height)] items-center cursor-pointer pl-8px relative decoration-none overflow-hidden'\n      ]\"\n      to=\"/\"\n    >\n      <img\n        :src=\"logoImage\"\n        class=\"w-[calc(var(--logo-height)-10px)] h-[calc(var(--logo-height)-10px)]\"\n      />\n      <div\n        v-if=\"show\"\n        :class=\"[\n          'ml-10px text-16px font-700',\n          {\n            'text-[var(--logo-title-text-color)]': layout === 'classic',\n            'text-[var(--top-header-text-color)]':\n              layout === 'topLeft' || layout === 'top' || layout === 'cutMenu'\n          }\n        ]\"\n      >\n        {{ title }}\n      </div>\n    </router-link>\n  </div>\n</template>\n","<script setup lang=\"ts\">\nimport { useTagsViewStore } from '@/store/modules/tagsView'\nimport { useAppStore } from '@/store/modules/app'\nimport { Footer } from '@/components/Footer'\nimport { computed } from 'vue'\n\nconst appStore = useAppStore()\n\nconst footer = computed(() => appStore.getFooter)\n\nconst tagsViewStore = useTagsViewStore()\n\nconst getCaches = computed((): string[] => {\n  return tagsViewStore.getCachedViews\n})\n</script>\n\n<template>\n  <section\n    :class=\"[\n      'flex-1 p-[var(--app-content-padding)] w-[calc(100%-var(--app-content-padding)-var(--app-content-padding))] bg-[var(--app-content-bg-color)] dark:bg-[var(--el-bg-color)]'\n    ]\"\n  >\n    <router-view>\n      <template #default=\"{ Component, route }\">\n        <keep-alive :include=\"getCaches\">\n          <component :is=\"Component\" :key=\"route.fullPath\" />\n        </keep-alive>\n      </template>\n    </router-view>\n  </section>\n  <Footer v-if=\"footer\" />\n</template>\n","<script setup lang=\"ts\">\nimport { computed, unref } from 'vue'\nimport { useAppStore } from '@/store/modules/app'\nimport { propTypes } from '@/utils/propTypes'\nimport { useDesign } from '@/hooks/web/useDesign'\n\nconst { getPrefixCls } = useDesign()\n\nconst prefixCls = getPrefixCls('collapse')\n\ndefineProps({\n  color: propTypes.string.def('')\n})\n\nconst appStore = useAppStore()\n\nconst collapse = computed(() => appStore.getCollapse)\n\nconst toggleCollapse = () => {\n  const collapsed = unref(collapse)\n  appStore.setCollapse(!collapsed)\n}\n</script>\n\n<template>\n  <div :class=\"prefixCls\" @click=\"toggleCollapse\">\n    <Icon\n      :size=\"18\"\n      :icon=\"collapse ? 'ant-design:menu-unfold-outlined' : 'ant-design:menu-fold-outlined'\"\n      :color=\"color\"\n      class=\"cursor-pointer\"\n    />\n  </div>\n</template>\n","<script setup lang=\"ts\">\nimport { computed } from 'vue'\nimport { ElDropdown, ElDropdownMenu, ElDropdownItem, ComponentSize } from 'element-plus'\nimport { useAppStore } from '@/store/modules/app'\nimport { useI18n } from '@/hooks/web/useI18n'\nimport { propTypes } from '@/utils/propTypes'\nimport { useDesign } from '@/hooks/web/useDesign'\n\nconst { getPrefixCls } = useDesign()\n\nconst prefixCls = getPrefixCls('size-dropdown')\n\ndefineProps({\n  color: propTypes.string.def('')\n})\n\nconst { t } = useI18n()\n\nconst appStore = useAppStore()\n\nconst sizeMap = computed(() => appStore.sizeMap)\n\nconst setCurrentSize = (size: ComponentSize) => {\n  appStore.setCurrentSize(size)\n}\n</script>\n\n<template>\n  <ElDropdown :class=\"prefixCls\" trigger=\"click\" @command=\"setCurrentSize\">\n    <Icon :size=\"18\" icon=\"mdi:format-size\" :color=\"color\" class=\"cursor-pointer\" />\n    <template #dropdown>\n      <ElDropdownMenu>\n        <ElDropdownItem v-for=\"item in sizeMap\" :key=\"item\" :command=\"item\">\n          {{ t(`size.${item}`) }}\n        </ElDropdownItem>\n      </ElDropdownMenu>\n    </template>\n  </ElDropdown>\n</template>\n","import { defineStore } from 'pinia'\nimport { store } from '../index'\n\ninterface lockInfo {\n  isLock?: boolean\n  password?: string\n}\n\ninterface LockState {\n  lockInfo: lockInfo\n}\n\nexport const useLockStore = defineStore('lock', {\n  state: (): LockState => {\n    return {\n      lockInfo: {\n        // isLock: false, // 是否锁定屏幕\n        // password: '' // 锁屏密码\n      }\n    }\n  },\n  getters: {\n    getLockInfo(): lockInfo {\n      return this.lockInfo\n    }\n  },\n  actions: {\n    setLockInfo(lockInfo: lockInfo) {\n      this.lockInfo = lockInfo\n    },\n    resetLockInfo() {\n      this.lockInfo = {}\n    },\n    unLock(password: string) {\n      if (this.lockInfo?.password === password) {\n        this.resetLockInfo()\n        return true\n      } else {\n        return false\n      }\n    }\n  },\n  persist: true\n})\n\nexport const useLockStoreWithOut = () => {\n  return useLockStore(store)\n}\n","<script setup lang=\"ts\">\nimport { useI18n } from '@/hooks/web/useI18n'\nimport { ref } from 'vue'\nimport { Dialog } from '@/components/Dialog'\nimport { Form } from '@/components/Form'\nimport { useForm } from '@/hooks/web/useForm'\nimport { reactive, computed } from 'vue'\nimport { useValidator } from '@/hooks/web/useValidator'\nimport { FormSchema } from '@/components/Form'\nimport { useDesign } from '@/hooks/web/useDesign'\nimport { useLockStore } from '@/store/modules/lock'\n\nconst { getPrefixCls } = useDesign()\nconst prefixCls = getPrefixCls('lock-dialog')\n\nconst { required } = useValidator()\n\nconst { t } = useI18n()\n\nconst lockStore = useLockStore()\n\nconst props = defineProps({\n  modelValue: {\n    type: Boolean\n  }\n})\n\nconst emit = defineEmits(['update:modelValue'])\n\nconst dialogVisible = computed({\n  get: () => props.modelValue,\n  set: (val) => {\n    console.log('set: ', val)\n    emit('update:modelValue', val)\n  }\n})\n\nconst dialogTitle = ref(t('lock.lockScreen'))\n\nconst rules = reactive({\n  password: [required()]\n})\n\nconst schema: FormSchema[] = reactive([\n  {\n    label: t('lock.lockPassword'),\n    field: 'password',\n    component: 'Input',\n    componentProps: {\n      type: 'password',\n      showPassword: true\n    }\n  }\n])\n\nconst { formRegister, formMethods } = useForm()\n\nconst { getFormData, getElFormExpose } = formMethods\n\nconst handleLock = async () => {\n  const formExpose = await getElFormExpose()\n  formExpose?.validate(async (valid) => {\n    if (valid) {\n      dialogVisible.value = false\n      const formData = await getFormData()\n      lockStore.setLockInfo({\n        isLock: true,\n        ...formData\n      })\n    }\n  })\n}\n</script>\n\n<template>\n  <Dialog\n    v-model=\"dialogVisible\"\n    width=\"500px\"\n    max-height=\"170px\"\n    :class=\"prefixCls\"\n    :title=\"dialogTitle\"\n  >\n    <div class=\"flex flex-col items-center\">\n      <img src=\"@/assets/imgs/avatar.jpg\" alt=\"\" class=\"w-70px h-70px rounded-[50%]\" />\n      <span class=\"text-14px my-10px text-[var(--top-header-text-color)]\">Archer</span>\n    </div>\n    <Form :is-col=\"false\" :schema=\"schema\" :rules=\"rules\" @register=\"formRegister\" />\n    <template #footer>\n      <BaseButton type=\"primary\" @click=\"handleLock\">{{ t('lock.lock') }}</BaseButton>\n    </template>\n  </Dialog>\n</template>\n\n<style lang=\"less\" scoped>\n:global(.v-lock-dialog) {\n  @media (width <= 767px) {\n    max-width: calc(100vw - 16px);\n  }\n}\n</style>\n","/**\n * Independent time operation tool to facilitate subsequent switch to dayjs\n */\nimport dayjs from 'dayjs'\n\nconst DATE_TIME_FORMAT = 'YYYY-MM-DD HH:mm:ss'\nconst DATE_FORMAT = 'YYYY-MM-DD'\n\nexport function formatToDateTime(date?: dayjs.ConfigType, format = DATE_TIME_FORMAT): string {\n  return dayjs(date).format(format)\n}\n\nexport function formatToDate(date?: dayjs.ConfigType, format = DATE_FORMAT): string {\n  return dayjs(date).format(format)\n}\n\nexport const dateUtil = dayjs\n","import { dateUtil } from '@/utils/dateUtil'\nimport { reactive, toRefs } from 'vue'\nimport { tryOnMounted, tryOnUnmounted } from '@vueuse/core'\n\nexport const useNow = (immediate = true) => {\n  let timer: IntervalHandle\n\n  const state = reactive({\n    year: 0,\n    month: 0,\n    week: '',\n    day: 0,\n    hour: '',\n    minute: '',\n    second: 0,\n    meridiem: ''\n  })\n\n  const update = () => {\n    const now = dateUtil()\n\n    const h = now.format('HH')\n    const m = now.format('mm')\n    const s = now.get('s')\n\n    state.year = now.get('y')\n    state.month = now.get('M') + 1\n    state.week = '星期' + ['日', '一', '二', '三', '四', '五', '六'][now.day()]\n    state.day = now.get('date')\n    state.hour = h\n    state.minute = m\n    state.second = s\n\n    state.meridiem = now.format('A')\n  }\n\n  function start() {\n    update()\n    clearInterval(timer)\n    timer = setInterval(() => update(), 1000)\n  }\n\n  function stop() {\n    clearInterval(timer)\n  }\n\n  tryOnMounted(() => {\n    immediate && start()\n  })\n\n  tryOnUnmounted(() => {\n    stop()\n  })\n\n  return {\n    ...toRefs(state),\n    start,\n    stop\n  }\n}\n","<script lang=\"ts\" setup>\nimport { ref } from 'vue'\nimport { ElInput } from 'element-plus'\nimport { useLockStore } from '@/store/modules/lock'\nimport { useI18n } from '@/hooks/web/useI18n'\nimport { useNow } from '@/hooks/web/useNow'\nimport { useDesign } from '@/hooks/web/useDesign'\nimport { Icon } from '@/components/Icon'\nimport { useAuthStore } from '@/store/modules/auth'\n\nconst authStore = useAuthStore()\n\nconst password = ref('')\nconst loading = ref(false)\nconst errMsg = ref(false)\nconst showDate = ref(true)\n\nconst { getPrefixCls } = useDesign()\nconst prefixCls = getPrefixCls('lock-page')\n\nconst lockStore = useLockStore()\n\nconst { hour, month, minute, meridiem, year, day, week } = useNow(true)\n\nconst { t } = useI18n()\n\n// 解锁\nasync function unLock() {\n  if (!password.value) {\n    return\n  }\n  let pwd = password.value\n  try {\n    loading.value = true\n    const res = await lockStore.unLock(pwd)\n    errMsg.value = !res\n  } finally {\n    loading.value = false\n  }\n}\n\n// 返回登录\nasync function goLogin() {\n  authStore.logout()\n}\n\nfunction handleShowForm(show = false) {\n  showDate.value = show\n}\n</script>\n\n<template>\n  <div\n    :class=\"prefixCls\"\n    class=\"fixed inset-0 flex h-screen w-screen bg-black items-center justify-center\"\n  >\n    <div\n      :class=\"`${prefixCls}__unlock`\"\n      class=\"absolute top-0 left-1/2 flex pt-5 h-16 items-center justify-center sm:text-md xl:text-xl text-white flex-col cursor-pointer transform translate-x-1/2\"\n      @click=\"handleShowForm(false)\"\n      v-show=\"showDate\"\n    >\n      <Icon icon=\"ep:lock\" />\n      <span>{{ t('lock.unlock') }}</span>\n    </div>\n\n    <div class=\"flex w-screen h-screen justify-center items-center\">\n      <div :class=\"`${prefixCls}__hour`\" class=\"relative mr-5 md:mr-20 w-2/5 h-2/5 md:h-4/5\">\n        <span>{{ hour }}</span>\n        <span class=\"meridiem absolute left-5 top-5 text-md xl:text-xl\" v-show=\"showDate\">\n          {{ meridiem }}\n        </span>\n      </div>\n      <div :class=\"`${prefixCls}__minute w-2/5 h-2/5 md:h-4/5 `\">\n        <span> {{ minute }}</span>\n      </div>\n    </div>\n    <transition name=\"fade-slide\">\n      <div :class=\"`${prefixCls}-entry`\" v-show=\"!showDate\">\n        <div :class=\"`${prefixCls}-entry-content`\">\n          <div class=\"flex flex-col items-center\">\n            <img src=\"@/assets/imgs/avatar.jpg\" alt=\"\" class=\"w-70px h-70px rounded-[50%]\" />\n            <span class=\"text-14px my-10px text-[var(--logo-title-text-color)]\">Archer</span>\n          </div>\n          <ElInput\n            type=\"password\"\n            :placeholder=\"t('lock.placeholder')\"\n            class=\"enter-x\"\n            v-model=\"password\"\n          />\n          <span :class=\"`text-14px ${prefixCls}-entry__err-msg enter-x`\" v-if=\"errMsg\">\n            {{ t('lock.message') }}\n          </span>\n          <div :class=\"`${prefixCls}-entry__footer enter-x`\">\n            <BaseButton\n              type=\"primary\"\n              size=\"small\"\n              class=\"mt-2 mr-2 enter-x\"\n              link\n              :disabled=\"loading\"\n              @click=\"handleShowForm(true)\"\n            >\n              {{ t('common.back') }}\n            </BaseButton>\n            <BaseButton\n              type=\"primary\"\n              size=\"small\"\n              class=\"mt-2 mr-2 enter-x\"\n              link\n              :disabled=\"loading\"\n              @click=\"goLogin\"\n            >\n              {{ t('lock.backToLogin') }}\n            </BaseButton>\n            <BaseButton\n              type=\"primary\"\n              class=\"mt-2\"\n              size=\"small\"\n              link\n              @click=\"unLock()\"\n              :disabled=\"loading\"\n            >\n              {{ t('lock.entrySystem') }}\n            </BaseButton>\n          </div>\n        </div>\n      </div>\n    </transition>\n\n    <div class=\"absolute bottom-5 w-full text-gray-300 xl:text-xl 2xl:text-3xl text-center enter-y\">\n      <div class=\"text-5xl mb-4 enter-x\" v-show=\"!showDate\">\n        {{ hour }}:{{ minute }} <span class=\"text-3xl\">{{ meridiem }}</span>\n      </div>\n      <div class=\"text-2xl\">{{ year }}/{{ month }}/{{ day }} {{ week }}</div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"less\" scoped>\n@prefix-cls: ~'@{namespace}-lock-page';\n\n// Small screen / tablet\n@screen-sm: 576px;\n\n// Medium screen / desktop\n@screen-md: 768px;\n\n// Large screen / wide desktop\n@screen-lg: 992px;\n\n// Extra large screen / full hd\n@screen-xl: 1200px;\n\n// Extra extra large screen / large desktop\n@screen-2xl: 1600px;\n\n@error-color: #ed6f6f;\n\n.@{prefix-cls} {\n  z-index: 3000;\n\n  &__unlock {\n    transform: translate(-50%, 0);\n  }\n\n  &__hour,\n  &__minute {\n    display: flex;\n    font-weight: 700;\n    color: #bababa;\n    background-color: #141313;\n    border-radius: 30px;\n    justify-content: center;\n    align-items: center;\n\n    @media screen and (max-width: @screen-md) {\n      span:not(.meridiem) {\n        font-size: 160px;\n      }\n    }\n\n    @media screen and (min-width: @screen-md) {\n      span:not(.meridiem) {\n        font-size: 160px;\n      }\n    }\n\n    @media screen and (max-width: @screen-sm) {\n      span:not(.meridiem) {\n        font-size: 90px;\n      }\n    }\n\n    @media screen and (min-width: @screen-lg) {\n      span:not(.meridiem) {\n        font-size: 220px;\n      }\n    }\n\n    @media screen and (min-width: @screen-xl) {\n      span:not(.meridiem) {\n        font-size: 260px;\n      }\n    }\n\n    @media screen and (min-width: @screen-2xl) {\n      span:not(.meridiem) {\n        font-size: 320px;\n      }\n    }\n  }\n\n  &-entry {\n    position: absolute;\n    top: 0;\n    left: 0;\n    display: flex;\n    width: 100%;\n    height: 100%;\n    background-color: rgb(0 0 0 / 50%);\n    backdrop-filter: blur(8px);\n    justify-content: center;\n    align-items: center;\n\n    &-content {\n      width: 260px;\n    }\n\n    &__header {\n      text-align: center;\n\n      &-img {\n        width: 70px;\n        margin: 0 auto;\n        border-radius: 50%;\n      }\n\n      &-name {\n        margin-top: 5px;\n        font-weight: 500;\n        color: #bababa;\n      }\n    }\n\n    &__err-msg {\n      display: inline-block;\n      margin-top: 10px;\n      color: @error-color;\n    }\n\n    &__footer {\n      display: flex;\n      justify-content: space-between;\n    }\n  }\n}\n</style>\n","<script setup lang=\"ts\">\nimport { ElDropdown, ElDropdownMenu, ElDropdownItem, ElMessageBox } from 'element-plus'\nimport { useI18n } from '@/hooks/web/useI18n'\nimport { useAuthStore } from '@/store/modules/auth'\nimport { useDesign } from '@/hooks/web/useDesign'\nimport LockDialog from './components/LockDialog.vue'\nimport { ref, computed } from 'vue'\nimport LockPage from './components/LockPage.vue'\nimport { useLockStore } from '@/store/modules/lock'\nimport { useRouter } from 'vue-router'\nimport avatar from '@/assets/imgs/avatar.jpg'\n\nconst lockStore = useLockStore()\n\nconst getIsLock = computed(() => lockStore.getLockInfo?.isLock ?? false)\n\nconst authStore = useAuthStore()\n\nconst { getPrefixCls } = useDesign()\n\nconst prefixCls = getPrefixCls('user-info')\n\nconst { push } = useRouter()\n\nconst { t } = useI18n()\n\nconst loginOut = () => {\n  ElMessageBox.confirm(t('common.loginOutMessage'), t('common.reminder'), {\n    confirmButtonText: t('common.ok'),\n    cancelButtonText: t('common.cancel'),\n    type: 'warning'\n  })\n    .then(() => {\n      authStore.logout()\n    })\n    .catch(() => {})\n}\n\nconst dialogVisible = ref<boolean>(false)\n\n// 锁定屏幕\nconst lockScreen = () => {\n  dialogVisible.value = true\n}\n\nconst toHome = () => {\n  push('/home')\n}\n\nconst toGitee = () => {\n  window.open('https://gitee.com/ktianc/kinit')\n}\n\nconst toGithub = () => {\n  window.open('https://github.com/vvandk/kinit')\n}\n\nconst user = computed(() => authStore.getUser)\n</script>\n\n<template>\n  <ElDropdown class=\"custom-hover\" :class=\"prefixCls\" trigger=\"click\">\n    <div class=\"flex items-center\">\n      <img\n        :src=\"user.avatar ? user.avatar : avatar\"\n        alt=\"\"\n        class=\"w-[calc(var(--logo-height)-25px)] rounded-[50%]\"\n      />\n      <span class=\"<lg:hidden text-14px pl-[5px] text-[var(--top-header-text-color)]\">{{\n        user.name\n      }}</span>\n    </div>\n    <template #dropdown>\n      <ElDropdownMenu>\n        <ElDropdownItem>\n          <BaseButton @click=\"toHome\" link>个人主页</BaseButton>\n        </ElDropdownItem>\n        <ElDropdownItem>\n          <BaseButton @click=\"toGitee\" link>Gitee</BaseButton>\n        </ElDropdownItem>\n        <ElDropdownItem>\n          <BaseButton @click=\"toGithub\" link>Github</BaseButton>\n        </ElDropdownItem>\n        <ElDropdownItem divided>\n          <div @click=\"lockScreen\">{{ t('lock.lockScreen') }}</div>\n        </ElDropdownItem>\n        <ElDropdownItem>\n          <div @click=\"loginOut\">{{ t('common.loginOut') }}</div>\n        </ElDropdownItem>\n      </ElDropdownMenu>\n    </template>\n  </ElDropdown>\n\n  <LockDialog v-if=\"dialogVisible\" v-model=\"dialogVisible\" />\n  <teleport to=\"body\">\n    <transition name=\"fade-bottom\" mode=\"out-in\">\n      <LockPage v-if=\"getIsLock\" />\n    </transition>\n  </teleport>\n</template>\n","<script setup lang=\"ts\">\nimport { Icon } from '@/components/Icon'\nimport { useFullscreen } from '@vueuse/core'\nimport { propTypes } from '@/utils/propTypes'\nimport { useDesign } from '@/hooks/web/useDesign'\n\nconst { getPrefixCls } = useDesign()\n\nconst prefixCls = getPrefixCls('screenfull')\n\ndefineProps({\n  color: propTypes.string.def('')\n})\n\nconst { toggle, isFullscreen } = useFullscreen()\n\nconst toggleFullscreen = () => {\n  toggle()\n}\n</script>\n\n<template>\n  <div :class=\"prefixCls\" @click=\"toggleFullscreen\">\n    <Icon\n      :size=\"18\"\n      :icon=\"isFullscreen ? 'zmdi:fullscreen-exit' : 'zmdi:fullscreen'\"\n      :color=\"color\"\n    />\n  </div>\n</template>\n","import { pathResolve } from '@/utils/routerHelper'\n\nexport const filterBreadcrumb = (\n  routes: AppRouteRecordRaw[],\n  parentPath = ''\n): AppRouteRecordRaw[] => {\n  const res: AppRouteRecordRaw[] = []\n\n  for (const route of routes) {\n    const meta = route?.meta\n    if (meta.hidden && !meta.canTo) {\n      continue\n    }\n\n    const data: AppRouteRecordRaw =\n      !meta.alwaysShow && route.children?.length === 1\n        ? { ...route.children[0], path: pathResolve(route.path, route.children[0].path) }\n        : { ...route }\n\n    data.path = pathResolve(parentPath, data.path)\n\n    if (data.children) {\n      data.children = filterBreadcrumb(data.children, data.path)\n    }\n    if (data) {\n      res.push(data)\n    }\n  }\n  return res\n}\n","<script lang=\"tsx\">\nimport { ElBreadcrumb, ElBreadcrumbItem } from 'element-plus'\nimport { ref, watch, computed, unref, defineComponent, TransitionGroup } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { usePermissionStore } from '@/store/modules/permission'\nimport { filterBreadcrumb } from './helper'\nimport { filter, treeToList } from '@/utils/tree'\nimport type { RouteLocationNormalizedLoaded } from 'vue-router'\nimport { useI18n } from '@/hooks/web/useI18n'\nimport { Icon } from '@/components/Icon'\nimport { useAppStore } from '@/store/modules/app'\nimport { useDesign } from '@/hooks/web/useDesign'\n\nconst { getPrefixCls } = useDesign()\n\nconst prefixCls = getPrefixCls('breadcrumb')\n\nconst appStore = useAppStore()\n\n// 面包屑图标\nconst breadcrumbIcon = computed(() => appStore.getBreadcrumbIcon)\n\nexport default defineComponent({\n  name: 'Breadcrumb',\n  setup() {\n    const { currentRoute } = useRouter()\n\n    const { t } = useI18n()\n\n    const levelList = ref<AppRouteRecordRaw[]>([])\n\n    const permissionStore = usePermissionStore()\n\n    const menuRouters = computed(() => {\n      const routers = permissionStore.getRouters\n      return filterBreadcrumb(routers)\n    })\n\n    const getBreadcrumb = () => {\n      const currentPath = currentRoute.value.matched.slice(-1)[0].path\n      levelList.value = filter<AppRouteRecordRaw>(unref(menuRouters), (node: AppRouteRecordRaw) => {\n        return node.path === currentPath\n      })\n    }\n\n    const renderBreadcrumb = () => {\n      const breadcrumbList = treeToList<AppRouteRecordRaw[]>(unref(levelList))\n      return breadcrumbList.map((v) => {\n        const disabled = !v.redirect || v.redirect === 'noredirect'\n        const meta = v.meta\n        return (\n          <ElBreadcrumbItem to={{ path: disabled ? '' : v.path }} key={v.name}>\n            {meta?.icon && breadcrumbIcon.value ? (\n              <>\n                <Icon icon={meta.icon} class=\"mr-[5px]\"></Icon> {t(v?.meta?.title || '')}\n              </>\n            ) : (\n              t(v?.meta?.title || '')\n            )}\n          </ElBreadcrumbItem>\n        )\n      })\n    }\n\n    watch(\n      () => currentRoute.value,\n      (route: RouteLocationNormalizedLoaded) => {\n        if (route.path.startsWith('/redirect/')) {\n          return\n        }\n        getBreadcrumb()\n      },\n      {\n        immediate: true\n      }\n    )\n\n    return () => (\n      <ElBreadcrumb separator=\"/\" class={`${prefixCls} flex items-center h-full ml-[10px]`}>\n        <TransitionGroup appear enter-active-class=\"animate__animated animate__fadeInRight\">\n          {renderBreadcrumb()}\n        </TransitionGroup>\n      </ElBreadcrumb>\n    )\n  }\n})\n</script>\n\n<style lang=\"less\" scoped>\n@prefix-cls: ~'@{elNamespace}-breadcrumb';\n\n.@{prefix-cls} {\n  :deep(&__item) {\n    display: flex;\n    .@{prefix-cls}__inner {\n      display: flex;\n      align-items: center;\n      color: var(--top-header-text-color);\n\n      &:hover {\n        color: var(--el-color-primary);\n      }\n    }\n  }\n\n  :deep(&__item):not(:last-child) {\n    .@{prefix-cls}__inner {\n      color: var(--top-header-text-color);\n\n      &:hover {\n        color: var(--el-color-primary);\n      }\n    }\n  }\n\n  :deep(&__item):last-child {\n    .@{prefix-cls}__inner {\n      color: var(--el-text-color-placeholder);\n\n      &:hover {\n        color: var(--el-text-color-placeholder);\n      }\n    }\n  }\n}\n</style>\n","<script setup lang=\"ts\">\nimport { PropType, watch, unref, ref } from 'vue'\nimport { propTypes } from '@/utils/propTypes'\nimport { useDesign } from '@/hooks/web/useDesign'\n\nconst { getPrefixCls } = useDesign()\n\nconst prefixCls = getPrefixCls('color-radio-picker')\n\nconst props = defineProps({\n  schema: {\n    type: Array as PropType<string[]>,\n    default: () => []\n  },\n  modelValue: propTypes.string.def('')\n})\n\nconst emit = defineEmits(['update:modelValue', 'change'])\n\nconst colorVal = ref(props.modelValue)\n\nwatch(\n  () => props.modelValue,\n  (val: string) => {\n    if (val === unref(colorVal)) return\n    colorVal.value = val\n  }\n)\n\n// 监听\nwatch(\n  () => colorVal.value,\n  (val: string) => {\n    emit('update:modelValue', val)\n    emit('change', val)\n  }\n)\n</script>\n\n<template>\n  <div :class=\"prefixCls\" class=\"flex flex-wrap space-x-14px\">\n    <span\n      v-for=\"(item, i) in schema\"\n      :key=\"`radio-${i}`\"\n      class=\"w-20px h-20px cursor-pointer rounded-2px border-solid border-gray-300 border-2px text-center leading-20px mb-5px\"\n      :class=\"{ 'is-active': colorVal === item }\"\n      :style=\"{\n        background: item\n      }\"\n      @click=\"colorVal = item\"\n    >\n      <Icon v-if=\"colorVal === item\" color=\"#fff\" icon=\"ep:check\" :size=\"16\" />\n    </span>\n  </div>\n</template>\n\n<style lang=\"less\" scoped>\n@prefix-cls: ~'@{namespace}-color-radio-picker';\n\n.@{prefix-cls} {\n  .is-active {\n    border-color: var(--el-color-primary);\n  }\n}\n</style>\n","<script setup lang=\"ts\">\nimport { ElSwitch } from 'element-plus'\nimport { useI18n } from '@/hooks/web/useI18n'\nimport { useAppStore } from '@/store/modules/app'\nimport { computed, ref, watch } from 'vue'\nimport { setCssVar } from '@/utils'\nimport { useDesign } from '@/hooks/web/useDesign'\n\nconst { getPrefixCls } = useDesign()\n\nconst prefixCls = getPrefixCls('interface-display')\n\nconst appStore = useAppStore()\n\nconst { t } = useI18n()\n\n// 面包屑\nconst breadcrumb = ref(appStore.getBreadcrumb)\n\nconst breadcrumbChange = (show: boolean) => {\n  appStore.setBreadcrumb(show)\n}\n\n// 面包屑图标\nconst breadcrumbIcon = ref(appStore.getBreadcrumbIcon)\n\nconst breadcrumbIconChange = (show: boolean) => {\n  appStore.setBreadcrumbIcon(show)\n}\n\n// 折叠图标\nconst hamburger = ref(appStore.getHamburger)\n\nconst hamburgerChange = (show: boolean) => {\n  appStore.setHamburger(show)\n}\n\n// 全屏图标\nconst screenfull = ref(appStore.getScreenfull)\n\nconst screenfullChange = (show: boolean) => {\n  appStore.setScreenfull(show)\n}\n\n// 尺寸图标\nconst size = ref(appStore.getSize)\n\nconst sizeChange = (show: boolean) => {\n  appStore.setSize(show)\n}\n\n// 多语言图标\nconst locale = ref(appStore.getLocale)\n\nconst localeChange = (show: boolean) => {\n  appStore.setLocale(show)\n}\n\n// 标签页\nconst tagsView = ref(appStore.getTagsView)\n\nconst tagsViewChange = (show: boolean) => {\n  // 切换标签栏显示时，同步切换标签栏的高度\n  setCssVar('--tags-view-height', show ? '35px' : '0px')\n  appStore.setTagsView(show)\n}\n\n// 标签页图标\nconst tagsViewIcon = ref(appStore.getTagsViewIcon)\n\nconst tagsViewIconChange = (show: boolean) => {\n  appStore.setTagsViewIcon(show)\n}\n\n// logo\nconst logo = ref(appStore.getLogo)\n\nconst logoChange = (show: boolean) => {\n  appStore.setLogo(show)\n}\n\n// 菜单手风琴\nconst uniqueOpened = ref(appStore.getUniqueOpened)\n\nconst uniqueOpenedChange = (uniqueOpened: boolean) => {\n  appStore.setUniqueOpened(uniqueOpened)\n}\n\n// 固定头部\nconst fixedHeader = ref(appStore.getFixedHeader)\n\nconst fixedHeaderChange = (show: boolean) => {\n  appStore.setFixedHeader(show)\n}\n\n// 页脚\nconst footer = ref(appStore.getFooter)\n\nconst footerChange = (show: boolean) => {\n  appStore.setFooter(show)\n}\n\n// 灰色模式\nconst greyMode = ref(appStore.getGreyMode)\n\nconst greyModeChange = (show: boolean) => {\n  appStore.setGreyMode(show)\n}\n\nconst layout = computed(() => appStore.getLayout)\n\nwatch(\n  () => layout.value,\n  (n) => {\n    if (n === 'top') {\n      appStore.setCollapse(false)\n    }\n  }\n)\n</script>\n\n<template>\n  <div :class=\"prefixCls\">\n    <div class=\"flex justify-between items-center\">\n      <span class=\"text-14px\">{{ t('setting.breadcrumb') }}</span>\n      <ElSwitch v-model=\"breadcrumb\" @change=\"breadcrumbChange\" />\n    </div>\n\n    <div class=\"flex justify-between items-center\">\n      <span class=\"text-14px\">{{ t('setting.breadcrumbIcon') }}</span>\n      <ElSwitch v-model=\"breadcrumbIcon\" @change=\"breadcrumbIconChange\" />\n    </div>\n\n    <div class=\"flex justify-between items-center\">\n      <span class=\"text-14px\">{{ t('setting.hamburgerIcon') }}</span>\n      <ElSwitch v-model=\"hamburger\" @change=\"hamburgerChange\" />\n    </div>\n\n    <div class=\"flex justify-between items-center\">\n      <span class=\"text-14px\">{{ t('setting.screenfullIcon') }}</span>\n      <ElSwitch v-model=\"screenfull\" @change=\"screenfullChange\" />\n    </div>\n\n    <div class=\"flex justify-between items-center\">\n      <span class=\"text-14px\">{{ t('setting.sizeIcon') }}</span>\n      <ElSwitch v-model=\"size\" @change=\"sizeChange\" />\n    </div>\n\n    <div class=\"flex justify-between items-center\">\n      <span class=\"text-14px\">{{ t('setting.localeIcon') }}</span>\n      <ElSwitch v-model=\"locale\" @change=\"localeChange\" />\n    </div>\n\n    <div class=\"flex justify-between items-center\">\n      <span class=\"text-14px\">{{ t('setting.tagsView') }}</span>\n      <ElSwitch v-model=\"tagsView\" @change=\"tagsViewChange\" />\n    </div>\n\n    <div class=\"flex justify-between items-center\">\n      <span class=\"text-14px\">{{ t('setting.tagsViewIcon') }}</span>\n      <ElSwitch v-model=\"tagsViewIcon\" @change=\"tagsViewIconChange\" />\n    </div>\n\n    <div class=\"flex justify-between items-center\">\n      <span class=\"text-14px\">{{ t('setting.logo') }}</span>\n      <ElSwitch v-model=\"logo\" @change=\"logoChange\" />\n    </div>\n\n    <div class=\"flex justify-between items-center\">\n      <span class=\"text-14px\">{{ t('setting.uniqueOpened') }}</span>\n      <ElSwitch v-model=\"uniqueOpened\" @change=\"uniqueOpenedChange\" />\n    </div>\n\n    <div class=\"flex justify-between items-center\">\n      <span class=\"text-14px\">{{ t('setting.fixedHeader') }}</span>\n      <ElSwitch v-model=\"fixedHeader\" @change=\"fixedHeaderChange\" />\n    </div>\n\n    <div class=\"flex justify-between items-center\">\n      <span class=\"text-14px\">{{ t('setting.footer') }}</span>\n      <ElSwitch v-model=\"footer\" @change=\"footerChange\" />\n    </div>\n\n    <div class=\"flex justify-between items-center\">\n      <span class=\"text-14px\">{{ t('setting.greyMode') }}</span>\n      <ElSwitch v-model=\"greyMode\" @change=\"greyModeChange\" />\n    </div>\n  </div>\n</template>\n","<script setup lang=\"ts\">\nimport { useAppStore } from '@/store/modules/app'\nimport { computed } from 'vue'\nimport { useDesign } from '@/hooks/web/useDesign'\n\nconst { getPrefixCls } = useDesign()\n\nconst prefixCls = getPrefixCls('layout-radio-picker')\n\nconst appStore = useAppStore()\n\nconst layout = computed(() => appStore.getLayout)\n</script>\n\n<template>\n  <div :class=\"prefixCls\" class=\"flex flex-wrap space-x-14px\">\n    <div\n      :class=\"[\n        `${prefixCls}__classic`,\n        'relative w-56px h-48px cursor-pointer bg-gray-300',\n        {\n          'is-acitve': layout === 'classic'\n        }\n      ]\"\n      @click=\"appStore.setLayout('classic')\"\n    ></div>\n    <div\n      :class=\"[\n        `${prefixCls}__top-left`,\n        'relative w-56px h-48px cursor-pointer bg-gray-300',\n        {\n          'is-acitve': layout === 'topLeft'\n        }\n      ]\"\n      @click=\"appStore.setLayout('topLeft')\"\n    ></div>\n    <div\n      :class=\"[\n        `${prefixCls}__top`,\n        'relative w-56px h-48px cursor-pointer bg-gray-300',\n        {\n          'is-acitve': layout === 'top'\n        }\n      ]\"\n      @click=\"appStore.setLayout('top')\"\n    ></div>\n    <div\n      :class=\"[\n        `${prefixCls}__cut-menu`,\n        'relative w-56px h-48px cursor-pointer bg-gray-300',\n        {\n          'is-acitve': layout === 'cutMenu'\n        }\n      ]\"\n      @click=\"appStore.setLayout('cutMenu')\"\n    >\n      <div class=\"absolute h-full w-[33%] top-0 left-[10%] bg-gray-200\"></div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"less\" scoped>\n@prefix-cls: ~'@{namespace}-layout-radio-picker';\n\n.@{prefix-cls} {\n  &__classic {\n    border: 2px solid #e5e7eb;\n    border-radius: 4px;\n\n    &::before {\n      position: absolute;\n      top: 0;\n      left: 0;\n      z-index: 1;\n      width: 33%;\n      height: 100%;\n      background-color: #273352;\n      border-radius: 4px 0 0 4px;\n      content: '';\n    }\n\n    &::after {\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 25%;\n      background-color: #fff;\n      border-radius: 4px 4px 0 4px;\n      content: '';\n    }\n  }\n\n  &__top-left {\n    border: 2px solid #e5e7eb;\n    border-radius: 4px;\n\n    &::before {\n      position: absolute;\n      top: 0;\n      left: 0;\n      z-index: 1;\n      width: 100%;\n      height: 33%;\n      background-color: #273352;\n      border-radius: 4px 4px 0 0;\n      content: '';\n    }\n\n    &::after {\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 33%;\n      height: 100%;\n      background-color: #fff;\n      border-radius: 4px 0 0 4px;\n      content: '';\n    }\n  }\n\n  &__top {\n    border: 2px solid #e5e7eb;\n    border-radius: 4px;\n\n    &::before {\n      position: absolute;\n      top: 0;\n      left: 0;\n      z-index: 1;\n      width: 100%;\n      height: 33%;\n      background-color: #273352;\n      border-radius: 4px 4px 0 0;\n      content: '';\n    }\n  }\n\n  &__cut-menu {\n    border: 2px solid #e5e7eb;\n    border-radius: 4px;\n\n    &::before {\n      position: absolute;\n      top: 0;\n      left: 0;\n      z-index: 1;\n      width: 100%;\n      height: 33%;\n      background-color: #273352;\n      border-radius: 4px 4px 0 0;\n      content: '';\n    }\n\n    &::after {\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 10%;\n      height: 100%;\n      background-color: #fff;\n      border-radius: 4px 0 0 4px;\n      content: '';\n    }\n  }\n\n  .is-acitve {\n    border-color: var(--el-color-primary);\n  }\n}\n</style>\n","<script setup lang=\"ts\">\nimport { ElDrawer, ElDivider, ElMessage } from 'element-plus'\nimport { ref, unref } from 'vue'\nimport { useI18n } from '@/hooks/web/useI18n'\nimport { ThemeSwitch } from '@/components/ThemeSwitch'\nimport { useCssVar } from '@vueuse/core'\nimport { useAppStore } from '@/store/modules/app'\nimport { trim, setCssVar, getCssVar } from '@/utils'\nimport ColorRadioPicker from './components/ColorRadioPicker.vue'\nimport InterfaceDisplay from './components/InterfaceDisplay.vue'\nimport LayoutRadioPicker from './components/LayoutRadioPicker.vue'\nimport { useStorage } from '@/hooks/web/useStorage'\nimport { useClipboard } from '@vueuse/core'\nimport { useDesign } from '@/hooks/web/useDesign'\nimport { propTypes } from '@/utils/propTypes'\n\nconst { clear: storageClear } = useStorage('localStorage')\n\nconst { getPrefixCls } = useDesign()\n\nconst prefixCls = getPrefixCls('setting-v2')\n\ndefineProps({\n  color: propTypes.string.def('')\n})\n\nconst appStore = useAppStore()\n\nconst { t } = useI18n()\n\nconst drawer = ref(false)\n\n// 主题色相关\nconst systemTheme = ref(appStore.getTheme.elColorPrimary)\n\nconst setSystemTheme = (color: string) => {\n  setCssVar('--el-color-primary', color)\n  appStore.setTheme({ elColorPrimary: color })\n  const leftMenuBgColor = useCssVar('--left-menu-bg-color', document.documentElement)\n  setMenuTheme(trim(unref(leftMenuBgColor)))\n}\n\n// 头部主题相关\nconst headerTheme = ref(appStore.getTheme.topHeaderBgColor || '')\n\nconst setHeaderTheme = (color: string) => {\n  appStore.setHeaderTheme(color)\n}\n\n// 菜单主题相关\nconst menuTheme = ref(appStore.getTheme.leftMenuBgColor || '')\n\nconst setMenuTheme = (color: string) => {\n  appStore.setMenuTheme(color)\n}\n\n// watch(\n//   () => layout.value,\n//   (n) => {\n//     if (n === 'top' && !appStore.getIsDark) {\n//       headerTheme.value = '#fff'\n//       setHeaderTheme('#fff')\n//     } else {\n//       setMenuTheme(unref(menuTheme))\n//     }\n//   }\n// )\n\n// 拷贝\nconst copyConfig = async () => {\n  const { copy, copied, isSupported } = useClipboard({\n    source: `\n      // 面包屑\n      breadcrumb: ${appStore.getBreadcrumb},\n      // 面包屑图标\n      breadcrumbIcon: ${appStore.getBreadcrumbIcon},\n      // 折叠图标\n      hamburger: ${appStore.getHamburger},\n      // 全屏图标\n      screenfull: ${appStore.getScreenfull},\n      // 尺寸图标\n      size: ${appStore.getSize},\n      // 多语言图标\n      locale: ${appStore.getLocale},\n      // 标签页\n      tagsView: ${appStore.getTagsView},\n      // 标签页图标\n      getTagsViewIcon: ${appStore.getTagsViewIcon},\n      // logo\n      logo: ${appStore.getLogo},\n      // 菜单手风琴\n      uniqueOpened: ${appStore.getUniqueOpened},\n      // 固定header\n      fixedHeader: ${appStore.getFixedHeader},\n      // 页脚\n      footer: ${appStore.getFooter},\n      // 灰色模式\n      greyMode: ${appStore.getGreyMode},\n      // layout布局\n      layout: '${appStore.getLayout}',\n      // 暗黑模式\n      isDark: ${appStore.getIsDark},\n      // 组件尺寸\n      currentSize: '${appStore.getCurrentSize}',\n      // 主题相关\n      theme: {\n        // 主题色\n        elColorPrimary: '${appStore.getTheme.elColorPrimary}',\n        // 左侧菜单边框颜色\n        leftMenuBorderColor: '${appStore.getTheme.leftMenuBorderColor}',\n        // 左侧菜单背景颜色\n        leftMenuBgColor: '${appStore.getTheme.leftMenuBgColor}',\n        // 左侧菜单浅色背景颜色\n        leftMenuBgLightColor: '${appStore.getTheme.leftMenuBgLightColor}',\n        // 左侧菜单选中背景颜色\n        leftMenuBgActiveColor: '${appStore.getTheme.leftMenuBgActiveColor}',\n        // 左侧菜单收起选中背景颜色\n        leftMenuCollapseBgActiveColor: '${appStore.getTheme.leftMenuCollapseBgActiveColor}',\n        // 左侧菜单字体颜色\n        leftMenuTextColor: '${appStore.getTheme.leftMenuTextColor}',\n        // 左侧菜单选中字体颜色\n        leftMenuTextActiveColor: '${appStore.getTheme.leftMenuTextActiveColor}',\n        // logo字体颜色\n        logoTitleTextColor: '${appStore.getTheme.logoTitleTextColor}',\n        // logo边框颜色\n        logoBorderColor: '${appStore.getTheme.logoBorderColor}',\n        // 头部背景颜色\n        topHeaderBgColor: '${appStore.getTheme.topHeaderBgColor}',\n        // 头部字体颜色\n        topHeaderTextColor: '${appStore.getTheme.topHeaderTextColor}',\n        // 头部悬停颜色\n        topHeaderHoverColor: '${appStore.getTheme.topHeaderHoverColor}',\n        // 头部边框颜色\n        topToolBorderColor: '${appStore.getTheme.topToolBorderColor}'\n      }\n    `,\n    legacy: true\n  })\n  if (!isSupported) {\n    ElMessage.error(t('setting.copyFailed'))\n  } else {\n    await copy()\n    if (unref(copied)) {\n      ElMessage.success(t('setting.copySuccess'))\n    }\n  }\n}\n\n// 清空缓存\nconst clear = () => {\n  storageClear()\n  window.location.reload()\n}\n\nconst themeChange = () => {\n  const color = getCssVar('--el-bg-color')\n  setMenuTheme(color)\n  setHeaderTheme(color)\n}\n</script>\n\n<template>\n  <div :class=\"prefixCls\">\n    <Icon\n      icon=\"icon-park-outline:theme\"\n      @click=\"drawer = true\"\n      class=\"cursor-pointer !p-0\"\n      :class=\"$attrs.class\"\n      :color=\"color\"\n      :size=\"18\"\n    />\n\n    <ElDrawer v-model=\"drawer\" direction=\"rtl\" size=\"350px\" :z-index=\"4000\">\n      <template #header>\n        <span class=\"text-16px font-700\">{{ t('setting.projectSetting') }}</span>\n      </template>\n\n      <div class=\"text-center\">\n        <!-- 主题 -->\n        <ElDivider>{{ t('setting.theme') }}</ElDivider>\n        <ThemeSwitch @change=\"themeChange\" />\n\n        <!-- 布局 -->\n        <ElDivider>{{ t('setting.layout') }}</ElDivider>\n        <LayoutRadioPicker />\n\n        <!-- 系统主题 -->\n        <ElDivider>{{ t('setting.systemTheme') }}</ElDivider>\n        <ColorRadioPicker\n          v-model=\"systemTheme\"\n          :schema=\"[\n            '#409eff',\n            '#009688',\n            '#536dfe',\n            '#ff5c93',\n            '#ee4f12',\n            '#0096c7',\n            '#9c27b0',\n            '#ff9800'\n          ]\"\n          @change=\"setSystemTheme\"\n        />\n\n        <!-- 头部主题 -->\n        <ElDivider>{{ t('setting.headerTheme') }}</ElDivider>\n        <ColorRadioPicker\n          v-model=\"headerTheme\"\n          :schema=\"[\n            '#fff',\n            '#151515',\n            '#5172dc',\n            '#e74c3c',\n            '#24292e',\n            '#394664',\n            '#009688',\n            '#383f45'\n          ]\"\n          @change=\"setHeaderTheme\"\n        />\n\n        <!-- 菜单主题 -->\n        <ElDivider>{{ t('setting.menuTheme') }}</ElDivider>\n        <ColorRadioPicker\n          v-model=\"menuTheme\"\n          :schema=\"[\n            '#fff',\n            '#001529',\n            '#212121',\n            '#273352',\n            '#191b24',\n            '#383f45',\n            '#001628',\n            '#344058'\n          ]\"\n          @change=\"setMenuTheme\"\n        />\n      </div>\n\n      <!-- 界面显示 -->\n      <ElDivider>{{ t('setting.interfaceDisplay') }}</ElDivider>\n      <InterfaceDisplay />\n\n      <ElDivider />\n      <div>\n        <BaseButton type=\"primary\" class=\"w-full\" @click=\"copyConfig\">{{\n          t('setting.copy')\n        }}</BaseButton>\n      </div>\n      <div class=\"mt-5px\">\n        <BaseButton type=\"danger\" class=\"w-full\" @click=\"clear\">\n          {{ t('setting.clearAndReset') }}\n        </BaseButton>\n      </div>\n    </ElDrawer>\n  </div>\n</template>\n\n<style lang=\"less\" scoped>\n@prefix-cls: ~'@{namespace}-setting';\n\n.@{prefix-cls} {\n  border-radius: 6px 0 0 6px;\n}\n</style>\n","<script lang=\"tsx\">\nimport { defineComponent, computed } from 'vue'\nimport { Collapse } from '@/components/Collapse'\nimport { LocaleDropdown } from '@/components/LocaleDropdown'\nimport { SizeDropdown } from '@/components/SizeDropdown'\nimport { UserInfo } from '@/components/UserInfo'\nimport { Screenfull } from '@/components/Screenfull'\nimport { Breadcrumb } from '@/components/Breadcrumb'\nimport { useAppStore } from '@/store/modules/app'\nimport { useDesign } from '@/hooks/web/useDesign'\nimport { SettingV2 } from '@/components/SettingV2'\n\nconst { getPrefixCls, variables } = useDesign()\n\nconst prefixCls = getPrefixCls('tool-header')\n\nconst appStore = useAppStore()\n\n// 面包屑\nconst breadcrumb = computed(() => appStore.getBreadcrumb)\n\n// 折叠图标\nconst hamburger = computed(() => appStore.getHamburger)\n\n// 全屏图标\nconst screenfull = computed(() => appStore.getScreenfull)\n\n// 尺寸图标\nconst size = computed(() => appStore.getSize)\n\n// 布局\nconst layout = computed(() => appStore.getLayout)\n\n// 多语言图标\nconst locale = computed(() => appStore.getLocale)\n\nexport default defineComponent({\n  name: 'ToolHeader',\n  setup() {\n    return () => (\n      <div\n        id={`${variables.namespace}-tool-header`}\n        class={[\n          prefixCls,\n          'h-[var(--top-tool-height)] relative px-[var(--top-tool-p-x)] flex items-center justify-between'\n        ]}\n      >\n        {layout.value !== 'top' ? (\n          <div class=\"h-full flex items-center\">\n            {hamburger.value && layout.value !== 'cutMenu' ? (\n              <Collapse class=\"custom-hover\" color=\"var(--top-header-text-color)\"></Collapse>\n            ) : undefined}\n            {breadcrumb.value ? <Breadcrumb class=\"<md:hidden\"></Breadcrumb> : undefined}\n          </div>\n        ) : undefined}\n        <div class=\"h-full flex items-center\">\n          <SettingV2 class=\"custom-hover\" color=\"var(--top-header-text-color)\"></SettingV2>\n          {screenfull.value ? (\n            <Screenfull class=\"custom-hover\" color=\"var(--top-header-text-color)\"></Screenfull>\n          ) : undefined}\n          {size.value ? (\n            <SizeDropdown class=\"custom-hover\" color=\"var(--top-header-text-color)\"></SizeDropdown>\n          ) : undefined}\n          {locale.value ? (\n            <LocaleDropdown\n              class=\"custom-hover\"\n              color=\"var(--top-header-text-color)\"\n            ></LocaleDropdown>\n          ) : undefined}\n\n          <UserInfo></UserInfo>\n        </div>\n      </div>\n    )\n  }\n})\n</script>\n\n<style lang=\"less\" scoped>\n@prefix-cls: ~'@{namespace}-tool-header';\n\n.@{prefix-cls} {\n  transition: left var(--transition-time-02);\n}\n</style>\n","import { computed } from 'vue'\nimport { useAppStore } from '@/store/modules/app'\nimport { Menu } from '@/components/Menu'\nimport { TabMenu } from '@/components/TabMenu'\nimport { TagsView } from '@/components/TagsView'\nimport { Logo } from '@/components/Logo'\nimport AppView from './AppView.vue'\nimport ToolHeader from './ToolHeader.vue'\nimport { ElScrollbar } from 'element-plus'\nimport { useDesign } from '@/hooks/web/useDesign'\n\nconst { getPrefixCls } = useDesign()\n\nconst prefixCls = getPrefixCls('layout')\n\nconst appStore = useAppStore()\n\nconst pageLoading = computed(() => appStore.getPageLoading)\n\n// 标签页\nconst tagsView = computed(() => appStore.getTagsView)\n\n// 菜单折叠\nconst collapse = computed(() => appStore.getCollapse)\n\n// logo\nconst logo = computed(() => appStore.logo)\n\n// 固定头部\nconst fixedHeader = computed(() => appStore.getFixedHeader)\n\n// 是否是移动端\nconst mobile = computed(() => appStore.getMobile)\n\n// 固定菜单\nconst fixedMenu = computed(() => appStore.getFixedMenu)\n\nexport const useRenderLayout = () => {\n  const renderClassic = () => {\n    return (\n      <>\n        <div\n          class={[\n            'absolute top-0 left-0 h-full layout-border__right',\n            { '!fixed z-3000': mobile.value }\n          ]}\n        >\n          {logo.value ? (\n            <Logo\n              class={[\n                'bg-[var(--left-menu-bg-color)] relative',\n                {\n                  '!pl-0': mobile.value && collapse.value,\n                  'w-[var(--left-menu-min-width)]': appStore.getCollapse,\n                  'w-[var(--left-menu-max-width)]': !appStore.getCollapse\n                }\n              ]}\n              style=\"transition: all var(--transition-time-02);\"\n            ></Logo>\n          ) : undefined}\n          <Menu class={[{ '!h-[calc(100%-var(--logo-height))]': logo.value }]}></Menu>\n        </div>\n        <div\n          class={[\n            `${prefixCls}-content`,\n            'absolute top-0 h-[100%]',\n            {\n              'w-[calc(100%-var(--left-menu-min-width))] left-[var(--left-menu-min-width)]':\n                collapse.value && !mobile.value && !mobile.value,\n              'w-[calc(100%-var(--left-menu-max-width))] left-[var(--left-menu-max-width)]':\n                !collapse.value && !mobile.value && !mobile.value,\n              'fixed !w-full !left-0': mobile.value\n            }\n          ]}\n          style=\"transition: all var(--transition-time-02);\"\n        >\n          <ElScrollbar\n            v-loading={pageLoading.value}\n            class={[\n              `${prefixCls}-content-scrollbar`,\n              {\n                '!h-[calc(100%-var(--top-tool-height)-var(--tags-view-height))] mt-[calc(var(--top-tool-height)+var(--tags-view-height))]':\n                  fixedHeader.value\n              }\n            ]}\n          >\n            <div\n              class={[\n                {\n                  'fixed top-0 left-0 z-10': fixedHeader.value,\n                  'w-[calc(100%-var(--left-menu-min-width))] !left-[var(--left-menu-min-width)]':\n                    collapse.value && fixedHeader.value && !mobile.value,\n                  'w-[calc(100%-var(--left-menu-max-width))] !left-[var(--left-menu-max-width)]':\n                    !collapse.value && fixedHeader.value && !mobile.value,\n                  '!w-full !left-0': mobile.value\n                }\n              ]}\n              style=\"transition: all var(--transition-time-02);\"\n            >\n              <ToolHeader\n                class={[\n                  'bg-[var(--top-header-bg-color)]',\n                  {\n                    'layout-border__bottom': !tagsView.value\n                  }\n                ]}\n              ></ToolHeader>\n\n              {tagsView.value ? (\n                <TagsView class=\"layout-border__bottom layout-border__top\"></TagsView>\n              ) : undefined}\n            </div>\n\n            <AppView></AppView>\n          </ElScrollbar>\n        </div>\n      </>\n    )\n  }\n\n  const renderTopLeft = () => {\n    return (\n      <>\n        <div class=\"flex items-center bg-[var(--top-header-bg-color)] relative layout-border__bottom dark:bg-[var(--el-bg-color)]\">\n          {logo.value ? <Logo class=\"custom-hover\"></Logo> : undefined}\n\n          <ToolHeader class=\"flex-1\"></ToolHeader>\n        </div>\n        <div class=\"absolute top-[var(--logo-height)+1px] left-0 w-full h-[calc(100%-1px-var(--logo-height))] flex\">\n          <Menu class=\"!h-full relative layout-border__right\"></Menu>\n          <div\n            class={[\n              `${prefixCls}-content`,\n              'h-[100%]',\n              {\n                'w-[calc(100%-var(--left-menu-min-width))] left-[var(--left-menu-min-width)]':\n                  collapse.value,\n                'w-[calc(100%-var(--left-menu-max-width))] left-[var(--left-menu-max-width)]':\n                  !collapse.value\n              }\n            ]}\n            style=\"transition: all var(--transition-time-02);\"\n          >\n            <ElScrollbar\n              v-loading={pageLoading.value}\n              class={[\n                `${prefixCls}-content-scrollbar`,\n                {\n                  '!h-[calc(100%-var(--tags-view-height))] mt-[calc(var(--tags-view-height))]':\n                    fixedHeader.value && tagsView.value\n                }\n              ]}\n            >\n              {tagsView.value ? (\n                <TagsView\n                  class={[\n                    'layout-border__bottom absolute',\n                    {\n                      '!fixed top-0 left-0 z-10': fixedHeader.value,\n                      'w-[calc(100%-var(--left-menu-min-width))] !left-[var(--left-menu-min-width)] mt-[calc(var(--logo-height)+1px)]':\n                        collapse.value && fixedHeader.value,\n                      'w-[calc(100%-var(--left-menu-max-width))] !left-[var(--left-menu-max-width)] mt-[calc(var(--logo-height)+1px)]':\n                        !collapse.value && fixedHeader.value\n                    }\n                  ]}\n                  style=\"transition: width var(--transition-time-02), left var(--transition-time-02);\"\n                ></TagsView>\n              ) : undefined}\n\n              <AppView></AppView>\n            </ElScrollbar>\n          </div>\n        </div>\n      </>\n    )\n  }\n\n  const renderTop = () => {\n    return (\n      <>\n        <div\n          class={[\n            'flex items-center justify-between bg-[var(--top-header-bg-color)] relative',\n            {\n              'layout-border__bottom': !tagsView.value\n            }\n          ]}\n        >\n          {logo.value ? <Logo class=\"custom-hover\"></Logo> : undefined}\n          <Menu class=\"flex-1 px-10px h-[var(--top-tool-height)]\"></Menu>\n          <ToolHeader></ToolHeader>\n        </div>\n        <div\n          class={[\n            `${prefixCls}-content`,\n            'w-full',\n            {\n              'h-[calc(100%-var(--top-tool-height))]': !fixedHeader.value,\n              'h-[calc(100%-var(--tags-view-height)-var(--top-tool-height))]': fixedHeader.value\n            }\n          ]}\n        >\n          <ElScrollbar\n            v-loading={pageLoading.value}\n            class={[\n              `${prefixCls}-content-scrollbar`,\n              {\n                'mt-[var(--tags-view-height)] !pb-[calc(var(--tags-view-height)+var(--app-footer-height))]':\n                  fixedHeader.value,\n                'pb-[var(--app-footer-height)]': !fixedHeader.value\n              }\n            ]}\n          >\n            {tagsView.value ? (\n              <TagsView\n                class={[\n                  'layout-border__bottom layout-border__top relative',\n                  {\n                    '!fixed w-full top-[calc(var(--top-tool-height)+1px)] left-0': fixedHeader.value\n                  }\n                ]}\n                style=\"transition: width var(--transition-time-02), left var(--transition-time-02);\"\n              ></TagsView>\n            ) : undefined}\n\n            <AppView></AppView>\n          </ElScrollbar>\n        </div>\n      </>\n    )\n  }\n\n  const renderCutMenu = () => {\n    return (\n      <>\n        <div class=\"flex items-center bg-[var(--top-header-bg-color)] relative layout-border__bottom\">\n          {logo.value ? <Logo class=\"custom-hover !pr-15px\"></Logo> : undefined}\n\n          <ToolHeader class=\"flex-1\"></ToolHeader>\n        </div>\n        <div class=\"absolute top-[var(--logo-height)] left-0 w-[calc(100%-2px)] h-[calc(100%-var(--logo-height))] flex\">\n          <TabMenu></TabMenu>\n          <div\n            class={[\n              `${prefixCls}-content`,\n              'h-[100%]',\n              {\n                'w-[calc(100%-var(--tab-menu-min-width))] left-[var(--tab-menu-min-width)]':\n                  collapse.value && !fixedMenu.value,\n                'w-[calc(100%-var(--tab-menu-max-width))] left-[var(--tab-menu-max-width)]':\n                  !collapse.value && !fixedMenu.value,\n                'w-[calc(100%-var(--tab-menu-min-width)-var(--left-menu-max-width))] ml-[var(--left-menu-max-width)]':\n                  collapse.value && fixedMenu.value,\n                'w-[calc(100%-var(--tab-menu-max-width)-var(--left-menu-max-width))] ml-[var(--left-menu-max-width)]':\n                  !collapse.value && fixedMenu.value\n              }\n            ]}\n            style=\"transition: all var(--transition-time-02);\"\n          >\n            <ElScrollbar\n              v-loading={pageLoading.value}\n              class={[\n                `${prefixCls}-content-scrollbar`,\n                {\n                  '!h-[calc(100%-var(--tags-view-height))] mt-[calc(var(--tags-view-height))]':\n                    fixedHeader.value && tagsView.value\n                }\n              ]}\n            >\n              {tagsView.value ? (\n                <TagsView\n                  class={[\n                    'relative layout-border__bottom layout-border__top',\n                    {\n                      '!fixed top-0 left-0 z-10': fixedHeader.value,\n                      'w-[calc(100%-var(--tab-menu-min-width))] !left-[var(--tab-menu-min-width)] mt-[var(--logo-height)]':\n                        collapse.value && fixedHeader.value,\n                      'w-[calc(100%-var(--tab-menu-max-width))] !left-[var(--tab-menu-max-width)] mt-[var(--logo-height)]':\n                        !collapse.value && fixedHeader.value,\n                      '!fixed top-0 !left-[var(--tab-menu-min-width)+var(--left-menu-max-width)] z-10':\n                        fixedHeader.value && fixedMenu.value,\n                      'w-[calc(100%-var(--tab-menu-min-width)-var(--left-menu-max-width))] !left-[var(--tab-menu-min-width)+var(--left-menu-max-width)] mt-[var(--logo-height)]':\n                        collapse.value && fixedHeader.value && fixedMenu.value,\n                      'w-[calc(100%-var(--tab-menu-max-width)-var(--left-menu-max-width))] !left-[var(--tab-menu-max-width)+var(--left-menu-max-width)] mt-[var(--logo-height)]':\n                        !collapse.value && fixedHeader.value && fixedMenu.value\n                    }\n                  ]}\n                  style=\"transition: width var(--transition-time-02), left var(--transition-time-02);\"\n                ></TagsView>\n              ) : undefined}\n\n              <AppView></AppView>\n            </ElScrollbar>\n          </div>\n        </div>\n      </>\n    )\n  }\n\n  return {\n    renderClassic,\n    renderTopLeft,\n    renderTop,\n    renderCutMenu\n  }\n}\n","<script lang=\"tsx\">\nimport { computed, defineComponent, unref } from 'vue'\nimport { useAppStore } from '@/store/modules/app'\nimport { Backtop } from '@/components/Backtop'\n// import { Setting } from '@/components/Setting'\nimport { useRenderLayout } from './components/useRenderLayout'\nimport { useDesign } from '@/hooks/web/useDesign'\n\nconst { getPrefixCls } = useDesign()\n\nconst prefixCls = getPrefixCls('layout')\n\nconst appStore = useAppStore()\n\n// 是否是移动端\nconst mobile = computed(() => appStore.getMobile)\n\n// 菜单折叠\nconst collapse = computed(() => appStore.getCollapse)\n\nconst layout = computed(() => appStore.getLayout)\n\nconst handleClickOutside = () => {\n  appStore.setCollapse(true)\n}\n\nconst renderLayout = () => {\n  switch (unref(layout)) {\n    case 'classic':\n      const { renderClassic } = useRenderLayout()\n      return renderClassic()\n    case 'topLeft':\n      const { renderTopLeft } = useRenderLayout()\n      return renderTopLeft()\n    case 'top':\n      const { renderTop } = useRenderLayout()\n      return renderTop()\n    case 'cutMenu':\n      const { renderCutMenu } = useRenderLayout()\n      return renderCutMenu()\n    default:\n      break\n  }\n}\n\nexport default defineComponent({\n  name: 'Layout',\n  setup() {\n    return () => (\n      <section class={[prefixCls, `${prefixCls}__${layout.value}`, 'w-[100%] h-[100%] relative']}>\n        {mobile.value && !collapse.value ? (\n          <div\n            class=\"absolute top-0 left-0 w-full h-full opacity-30 z-99 bg-[var(--el-color-black)]\"\n            onClick={handleClickOutside}\n          ></div>\n        ) : undefined}\n\n        {renderLayout()}\n\n        <Backtop></Backtop>\n\n        {/* <Setting></Setting> */}\n      </section>\n    )\n  }\n})\n</script>\n\n<style lang=\"less\" scoped>\n@prefix-cls: ~'@{namespace}-layout';\n\n.@{prefix-cls} {\n  background-color: var(--app-content-bg-color);\n  .@{prefix-cls}-content-scrollbar {\n    & > :deep(.el-scrollbar__wrap) {\n      & > .@{elNamespace}-scrollbar__view {\n        display: flex;\n        height: 100% !important;\n        flex-direction: column;\n      }\n    }\n  }\n}\n</style>\n"],"names":["getPrefixCls","variables","useDesign","prefixCls","getAllParentPath","treeData","path","findPath","n","item","hasOneShowingChild","children","parent","onlyOneChild","ref","showingChildren","v","_a","unref","__spreadProps","__spreadValues","useRenderMenuTitle","renderMenuTitle","meta","t","useI18n","title","icon","_createVNode","_Fragment","Icon","useRenderMenuItem","menuMode","renderMenuItem","routers","parentPath","filter","hidden","map","oneShowingChild","fullPath","isUrl","pathResolve","noShowingChildren","alwaysShow","ElMenuItem","default","preFixCls","ElSubMenu","_isSlot","s","Object","prototype","toString","call","_isVNode","defineComponent","name","props","menuSelect","type","Function","undefined","setup","appStore","useAppStore","layout","computed","getLayout","push","currentRoute","useRouter","permissionStore","usePermissionStore","includes","getMenuTabRouters","getRouters","collapse","getCollapse","uniqueOpened","getUniqueOpened","activeMenu","index","window","open","renderMenuWrap","renderMenu","_slot","ElScrollbar","ElMenu","tabPathMap","reactive","initTabMap","routes","filterMenusPath","allRoutes","res","data","allParentPath","cloneDeep","directives","ClickOutside","fixedMenu","getFixedMenu","tabRouters","setCollapse","onMounted","split","find","length","tabActive","value","setMenuTabRouters","watch","immediate","deep","showTitle","setTimeout","showMenu","tabClick","newPath","oldPath","isActive","currentPath","clickOut","_withDirectives","namespace","onClick","Menu","_resolveDirective","filterAffixTags","tags","route","tagPath","tempTags","emit","__emit","__props","command","visibleChange","visible","elDropdownMenuRef","__expose","easeInOutQuad","b","c","d","move","el","position","amount","useScrollTo","to","duration","callback","isActiveRef","start","change","increment","currentTime","animateScroll","val","run","stop","useTagsView","tagsViewStore","useTagsViewStoreWithOut","replace","selectedTag","view","__async","query","nextTick","closeAll","closeLeft","closeRight","closeOther","closeCurrent","refreshPage","useTagsViewStore","visitedViews","affixTagArr","setSelectTag","tagsViewIcon","isDark","initTags","tag","addTags","closeSelectedTag","toLastView","latestView","closeAllTags","closeOthersTags","refreshSelectedTag","closeLeftTags","closeRightTags","moveToCurrentTag","moveToTarget","tagLinksRefs","useTemplateRefsList","currentTag","wrap$","scrollbarRef","firstTag","lastTag","tagList","currentIndex","tgsRefs","prevTag","nextTag","afterNextTagOffsetLeft","beforePrevTagOffsetLeft","scrollLeftNumber","itemRefs","tagItem","scroll","scrollLeft","show","logoImage","footer","getCaches","toggleCollapse","collapsed","sizeMap","setCurrentSize","size","useLockStore","defineStore","lockInfo","password","required","useValidator","lockStore","dialogVisible","dialogTitle","rules","schema","formRegister","formMethods","useForm","getFormData","getElFormExpose","handleLock","formExpose","valid","formData","dateUtil","dayjs","useNow","timer","state","update","now","h","m","tryOnMounted","tryOnUnmounted","toRefs","authStore","useAuthStore","loading","errMsg","showDate","hour","month","minute","meridiem","year","day","week","unLock","pwd","goLogin","handleShowForm","getIsLock","_b","loginOut","ElMessageBox","lockScreen","toHome","toGitee","toGithub","user","toggle","isFullscreen","useFullscreen","toggleFullscreen","filterBreadcrumb","breadcrumbIcon","getBreadcrumbIcon","levelList","menuRouters","getBreadcrumb","matched","slice","node","renderBreadcrumb","treeToList","disabled","redirect","ElBreadcrumbItem","_createTextVNode","startsWith","ElBreadcrumb","TransitionGroup","colorVal","breadcrumb","breadcrumbChange","breadcrumbIconChange","hamburger","hamburgerChange","screenfull","screenfullChange","sizeChange","locale","localeChange","tagsView","tagsViewChange","setCssVar","tagsViewIconChange","logo","logoChange","uniqueOpenedChange","fixedHeader","fixedHeaderChange","footerChange","greyMode","greyModeChange","storageClear","useStorage","drawer","systemTheme","setSystemTheme","color","leftMenuBgColor","useCssVar","setMenuTheme","trim","headerTheme","setHeaderTheme","menuTheme","copyConfig","copy","copied","isSupported","useClipboard","ElMessage","clear","themeChange","getCssVar","getHamburger","getScreenfull","getSize","getLocale","Breadcrumb","SettingV2","SizeDropdown","LocaleDropdown","UserInfo","pageLoading","getPageLoading","getTagsView","getFixedHeader","mobile","getMobile","useRenderLayout","renderClassic","Logo","ToolHeader","TagsView","AppView","renderTopLeft","renderTop","renderCutMenu","TabMenu","handleClickOutside","renderLayout","Backtop"],"mappings":"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"}