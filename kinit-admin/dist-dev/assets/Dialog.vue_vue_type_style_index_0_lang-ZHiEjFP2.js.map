{"version":3,"file":"Dialog.vue_vue_type_style_index_0_lang-ZHiEjFP2.js","sources":["../../src/components/Dialog/src/Dialog.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { ElDialog, ElScrollbar } from 'element-plus'\nimport { propTypes } from '@/utils/propTypes'\nimport { computed, useAttrs, ref, unref, useSlots, watch, nextTick } from 'vue'\nimport { isNumber } from '@/utils/is'\n\nconst slots = useSlots()\n\nconst props = defineProps({\n  modelValue: propTypes.bool.def(false),\n  title: propTypes.string.def('Dialog'),\n  fullscreen: propTypes.bool.def(true),\n  top: propTypes.string.def('8vh'),\n  height: propTypes.oneOfType([String, Number]).def('500px'),\n  width: propTypes.oneOfType([String, Number]).def('700px')\n})\n\nconst getBindValue = computed(() => {\n  const delArr: string[] = ['fullscreen', 'title', 'height', 'top', 'width']\n  const attrs = useAttrs()\n  const obj = { ...attrs, ...props }\n  for (const key in obj) {\n    if (delArr.indexOf(key) !== -1) {\n      delete obj[key]\n    }\n  }\n  return obj\n})\n\nconst isFullscreen = ref(false)\n\nconst toggleFull = () => {\n  isFullscreen.value = !unref(isFullscreen)\n}\n\nconst dialogHeight = ref(isNumber(props.height) ? `${props.height}px` : props.height)\n\nwatch(\n  () => isFullscreen.value,\n  async (val: boolean) => {\n    await nextTick()\n    if (val) {\n      const windowHeight = document.documentElement.offsetHeight\n      dialogHeight.value = `${windowHeight - 55 - 60 - (slots.footer ? 63 : 0)}px`\n    } else {\n      dialogHeight.value = isNumber(props.height) ? `${props.height}px` : props.height\n    }\n  },\n  {\n    immediate: true\n  }\n)\n\nconst dialogStyle = computed(() => {\n  return {\n    height: unref(dialogHeight)\n  }\n})\n</script>\n\n<template>\n  <ElDialog\n    v-bind=\"getBindValue\"\n    :fullscreen=\"isFullscreen\"\n    destroy-on-close\n    lock-scroll\n    draggable\n    :top=\"top\"\n    :width=\"width\"\n    :close-on-click-modal=\"false\"\n    :show-close=\"false\"\n  >\n    <template #header=\"{ close }\">\n      <div class=\"flex justify-between items-center h-54px pl-15px pr-15px relative\">\n        <slot name=\"title\">\n          {{ title }}\n        </slot>\n        <div\n          class=\"h-54px flex justify-between items-center absolute top-[50%] right-15px translate-y-[-50%]\"\n        >\n          <Icon\n            v-if=\"fullscreen\"\n            class=\"cursor-pointer is-hover !h-54px mr-10px\"\n            :icon=\"isFullscreen ? 'radix-icons:exit-full-screen' : 'radix-icons:enter-full-screen'\"\n            color=\"var(--el-color-info)\"\n            hover-color=\"var(--el-color-primary)\"\n            @click=\"toggleFull\"\n          />\n          <Icon\n            class=\"cursor-pointer is-hover !h-54px\"\n            icon=\"ep:close\"\n            hover-color=\"var(--el-color-primary)\"\n            color=\"var(--el-color-info)\"\n            @click=\"close\"\n          />\n        </div>\n      </div>\n    </template>\n\n    <ElScrollbar :style=\"dialogStyle\">\n      <slot></slot>\n    </ElScrollbar>\n\n    <template v-if=\"slots.footer\" #footer>\n      <slot name=\"footer\"></slot>\n    </template>\n  </ElDialog>\n</template>\n\n<style lang=\"less\">\n.@{elNamespace}-overlay-dialog {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.@{elNamespace}-dialog {\n  margin: 0 !important;\n\n  &__header {\n    height: 54px;\n    padding: 0;\n    margin-right: 0 !important;\n    border-bottom: 1px solid var(--el-border-color);\n  }\n\n  &__body {\n    padding: 15px !important;\n  }\n\n  &__footer {\n    border-top: 1px solid var(--el-border-color);\n  }\n\n  &__headerbtn {\n    top: 0;\n  }\n}\n</style>\n"],"names":["slots","useSlots","props","__props","getBindValue","computed","delArr","attrs","useAttrs","obj","__spreadValues","key","isFullscreen","ref","toggleFull","unref","dialogHeight","isNumber","watch","val","__async","nextTick","windowHeight","dialogStyle"],"mappings":"uuCAMA,MAAMA,EAAQC,IAERC,EAAQC,EASRC,EAAeC,EAAS,IAAM,CAClC,MAAMC,EAAmB,CAAC,aAAc,QAAS,SAAU,MAAO,OAAO,EACnEC,EAAQC,IACRC,EAAMC,IAAA,GAAKH,GAAUL,GAC3B,UAAWS,KAAOF,EACZH,EAAO,QAAQK,CAAG,IAAM,IAC1B,OAAOF,EAAIE,CAAG,EAGX,OAAAF,CAAA,CACR,EAEKG,EAAeC,EAAI,EAAK,EAExBC,EAAa,IAAM,CACVF,EAAA,MAAQ,CAACG,EAAMH,CAAY,CAAA,EAGpCI,EAAeH,EAAII,EAASf,EAAM,MAAM,EAAI,GAAGA,EAAM,MAAM,KAAOA,EAAM,MAAM,EAEpFgB,EACE,IAAMN,EAAa,MACZO,GAAiBC,EAAA,sBAEtB,GADA,MAAMC,EAAS,EACXF,EAAK,CACD,MAAAG,EAAe,SAAS,gBAAgB,aACjCN,EAAA,MAAQ,GAAGM,EAAe,GAAK,IAAMtB,EAAM,OAAS,GAAK,EAAE,IAAA,MAE3DgB,EAAA,MAAQC,EAASf,EAAM,MAAM,EAAI,GAAGA,EAAM,MAAM,KAAOA,EAAM,MAE9E,GACA,CACE,UAAW,EACb,CAAA,EAGI,MAAAqB,EAAclB,EAAS,KACpB,CACL,OAAQU,EAAMC,CAAY,CAAA,EAE7B"}