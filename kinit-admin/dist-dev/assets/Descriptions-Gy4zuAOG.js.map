{"version":3,"file":"Descriptions-Gy4zuAOG.js","sources":["../../src/components/Descriptions/src/Descriptions.vue"],"sourcesContent":["<script lang=\"tsx\">\nimport { ElCollapseTransition, ElTooltip, ElRow, ElCol } from 'element-plus'\nimport { useDesign } from '@/hooks/web/useDesign'\nimport { propTypes } from '@/utils/propTypes'\nimport { ref, unref, PropType, computed, defineComponent } from 'vue'\nimport { useAppStore } from '@/store/modules/app'\nimport { DescriptionsSchema } from './types'\nimport { Icon } from '@/components/Icon'\nimport { get } from 'lodash-es'\n\nconst appStore = useAppStore()\n\nconst mobile = computed(() => appStore.getMobile)\n\nconst { getPrefixCls } = useDesign()\n\nconst prefixCls = getPrefixCls('descriptions')\n\nconst defaultData = '-'\n\nexport default defineComponent({\n  name: 'Descriptions',\n  props: {\n    title: propTypes.string.def(''),\n    message: propTypes.string.def(''),\n    collapse: propTypes.bool.def(true),\n    border: propTypes.bool.def(true),\n    column: propTypes.number.def(2),\n    size: propTypes.oneOf(['large', 'default', 'small']).def('default'),\n    direction: propTypes.oneOf(['horizontal', 'vertical']).def('horizontal'),\n    extra: propTypes.string.def(''),\n    schema: {\n      type: Array as PropType<DescriptionsSchema[]>,\n      default: () => []\n    },\n    data: {\n      type: Object as PropType<any>,\n      default: () => ({})\n    }\n  },\n  setup(props, { attrs }) {\n    const getBindValue = computed((): any => {\n      const delArr: string[] = ['title', 'message', 'collapse', 'schema', 'data', 'class']\n      const obj = { ...attrs, ...props }\n      for (const key in obj) {\n        if (delArr.indexOf(key) !== -1) {\n          delete obj[key]\n        }\n      }\n      if (unref(mobile)) {\n        obj.direction = 'vertical'\n      }\n      return obj\n    })\n\n    const getBindItemValue = (item: DescriptionsSchema) => {\n      const delArr: string[] = ['field']\n      const obj = { ...item }\n      for (const key in obj) {\n        if (delArr.indexOf(key) !== -1) {\n          delete obj[key]\n        }\n      }\n      return {\n        labelClassName: `${prefixCls}-label`,\n        ...obj\n      }\n    }\n\n    // 折叠\n    const show = ref(true)\n\n    const toggleClick = () => {\n      if (props.collapse) {\n        show.value = !unref(show)\n      }\n    }\n\n    return () => {\n      return (\n        <div\n          class={[\n            prefixCls,\n            'bg-[var(--el-color-white)] dark:bg-[var(--el-bg-color)] dark:border-[var(--el-border-color)] dark:border-1px'\n          ]}\n        >\n          {props.title ? (\n            <div\n              class={[\n                `${prefixCls}-header`,\n                'relative h-50px flex justify-between items-center layout-border__bottom px-10px cursor-pointer'\n              ]}\n              onClick={toggleClick}\n            >\n              <div class={[`${prefixCls}-header__title`, 'relative font-18px font-bold ml-10px']}>\n                <div class=\"flex items-center\">\n                  {props.title}\n                  {props.message ? (\n                    <ElTooltip content={props.message} placement=\"right\">\n                      <Icon icon=\"bi:question-circle-fill\" class=\"ml-5px\" size={14} />\n                    </ElTooltip>\n                  ) : null}\n                </div>\n              </div>\n              {props.collapse ? <Icon icon={show.value ? 'ep:arrow-down' : 'ep:arrow-up'} /> : null}\n            </div>\n          ) : null}\n\n          <ElCollapseTransition>\n            <div v-show={unref(show)} class={[`${prefixCls}-content`, 'p-20px']}>\n              <ElRow\n                gutter={0}\n                {...unref(getBindValue)}\n                class=\"outline-1px outline-[var(--el-border-color-lighter)] outline-solid\"\n              >\n                {props.schema.map((item) => {\n                  return (\n                    <ElCol\n                      key={item.field}\n                      span={item.span || 24 / props.column}\n                      class=\"flex items-stretch\"\n                    >\n                      {props.direction === 'horizontal' ? (\n                        <div class=\"flex items-stretch bg-[var(--el-fill-color-light)] outline-1px outline-[var(--el-border-color-lighter)] outline-solid flex-1\">\n                          <div\n                            {...getBindItemValue(item)}\n                            class=\"w-120px text-left px-8px py-11px font-700 color-[var(--el-text-color-regular)] border-r-1px border-r-[var(--el-border-color-lighter)] border-r-solid \"\n                          >\n                            {item.label}\n                          </div>\n                          <div class=\"flex-1 px-8px py-11px bg-[var(--el-bg-color)] color-[var(--el-text-color-primary)] text-size-14px\">\n                            {item.slots?.default\n                              ? item.slots?.default(props.data)\n                              : get(props.data, item.field) ?? defaultData}\n                          </div>\n                        </div>\n                      ) : (\n                        <div class=\"bg-[var(--el-fill-color-light)] outline-1px outline-[var(--el-border-color-lighter)] outline-solid flex-1\">\n                          <div\n                            {...getBindItemValue(item)}\n                            class=\"text-left px-8px py-11px font-700 color-[var(--el-text-color-regular)] border-b-1px border-b-[var(--el-border-color-lighter)] border-b-solid\"\n                          >\n                            {item.label}\n                          </div>\n                          <div class=\"flex-1 px-8px py-11px bg-[var(--el-bg-color)] color-[var(--el-text-color-primary)] text-size-14px\">\n                            {item.slots?.default\n                              ? item.slots?.default(props.data)\n                              : get(props.data, item.field) ?? defaultData}\n                          </div>\n                        </div>\n                      )}\n                    </ElCol>\n                  )\n                })}\n              </ElRow>\n            </div>\n          </ElCollapseTransition>\n        </div>\n      )\n    }\n  }\n})\n</script>\n\n<style lang=\"less\" scoped>\n@prefix-cls: ~'@{namespace}-descriptions';\n\n:deep(.@{elNamespace}-descriptions__header) {\n  display: none !important;\n}\n\n.@{prefix-cls}-header {\n  &__title {\n    &::after {\n      position: absolute;\n      top: 3px;\n      left: -10px;\n      width: 4px;\n      height: 70%;\n      background: var(--el-color-primary);\n      content: '';\n    }\n  }\n}\n\n:deep(.@{prefix-cls}-label) {\n  width: 150px !important;\n}\n\n// .@{prefix-cls}-content {\n//   :deep(.@{elNamespace}-descriptions__cell) {\n//     width: 0;\n//   }\n// }\n</style>\n"],"names":["_isSlot","s","Object","prototype","toString","call","_isVNode","appStore","useAppStore","mobile","computed","getMobile","getPrefixCls","useDesign","prefixCls","defaultData","defineComponent","name","props","title","propTypes","string","def","message","collapse","bool","border","column","number","size","oneOf","direction","extra","schema","type","Array","default","data","setup","attrs","getBindValue","delArr","obj","__spreadValues","key","indexOf","unref","getBindItemValue","item","labelClassName","show","ref","toggleClick","value","_slot","_createVNode","Icon","ElCollapseTransition","_withDirectives","ElRow","_mergeProps","map","ElCol","field","span","label","slots","get","_vShow"],"mappings":"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"}